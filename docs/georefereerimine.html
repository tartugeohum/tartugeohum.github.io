<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Praktikum 7 Georefereerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</title>
  <meta name="description" content="Praktikum 7 Georefereerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Praktikum 7 Georefereerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praktikum 7 Georefereerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  
  
  

<meta name="author" content="Maarja-Liisa Pilvik" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="avaandmed.html"/>
<link rel="next" href="kirjandus.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<link href="libs/leaflet-measure-2.1.7/leaflet-measure.css" rel="stylesheet" />
<script src="libs/leaflet-measure-2.1.7/leaflet-measure.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#kursuse-korraldusest"><i class="fa fa-check"></i><b>1.1</b> Kursuse korraldusest</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#mis-on-geoinfosüsteemid"><i class="fa fa-check"></i><b>1.2</b> Mis on geoinfosüsteemid?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#geoinfosüsteemide-ajaloost"><i class="fa fa-check"></i><b>1.3</b> Geoinfosüsteemide ajaloost</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#ruumiandmed-ja-gis-humanitaarteadustes"><i class="fa fa-check"></i><b>1.4</b> Ruumiandmed ja GIS humanitaarteadustes</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#lugude-jutustamine"><i class="fa fa-check"></i><b>1.4.1</b> Lugude jutustamine</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#arheoloogia"><i class="fa fa-check"></i><b>1.4.2</b> Arheoloogia</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#keeleteadus"><i class="fa fa-check"></i><b>1.4.3</b> Keeleteadus</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#keele-sotsiaalteadus"><i class="fa fa-check"></i><b>1.4.4</b> Keele-/sotsiaalteadus</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#veel-näiteid"><i class="fa fa-check"></i><b>1.4.5</b> Veel näiteid</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html"><i class="fa fa-check"></i><b>2</b> Ruumiobjektid ja ruumiandmed</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektorandmed"><i class="fa fa-check"></i><b>2.1</b> Vektorandmed</a></li>
<li class="chapter" data-level="2.2" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#rasterandmed"><i class="fa fa-check"></i><b>2.2</b> Rasterandmed</a></li>
<li class="chapter" data-level="2.3" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektor-vs.-raster"><i class="fa fa-check"></i><b>2.3</b> Vektor vs. raster</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="kaardid.html"><a href="kaardid.html"><i class="fa fa-check"></i><b>3</b> Kaardid, koordinaatsüsteemid ja projektsioonid</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kaardid.html"><a href="kaardid.html#kaart"><i class="fa fa-check"></i><b>3.1</b> Kaart</a></li>
<li class="chapter" data-level="3.2" data-path="kaardid.html"><a href="kaardid.html#kaardi-elemendid"><i class="fa fa-check"></i><b>3.2</b> Kaardi elemendid</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="kaardid.html"><a href="kaardid.html#mootkava"><i class="fa fa-check"></i><b>3.2.1</b> Mõõtkava</a></li>
<li class="chapter" data-level="3.2.2" data-path="kaardid.html"><a href="kaardid.html#projektsioon"><i class="fa fa-check"></i><b>3.2.2</b> Koordinaatsüsteemid ja projektsioonid</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="kaardid.html"><a href="kaardid.html#kaartide-liigitus"><i class="fa fa-check"></i><b>3.3</b> Kaartide liigitus</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="kaardid.html"><a href="kaardid.html#digitaalkaardid"><i class="fa fa-check"></i><b>3.3.1</b> Digitaalkaardid</a></li>
<li class="chapter" data-level="3.3.2" data-path="kaardid.html"><a href="kaardid.html#viguriga-kaardid"><i class="fa fa-check"></i><b>3.3.2</b> Viguriga kaardid</a></li>
<li class="chapter" data-level="3.3.3" data-path="kaardid.html"><a href="kaardid.html#ülesanne"><i class="fa fa-check"></i><b>3.3.3</b> Ülesanne</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="kaardid.html"><a href="kaardid.html#kaartide-koostamine-ja-kujundamine-veebis"><i class="fa fa-check"></i><b>3.4</b> Kaartide koostamine ja kujundamine veebis</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="kaardid.html"><a href="kaardid.html#arcgis-online"><i class="fa fa-check"></i><b>3.4.1</b> ArcGIS Online</a></li>
<li class="chapter" data-level="3.4.2" data-path="kaardid.html"><a href="kaardid.html#mapbox-studio"><i class="fa fa-check"></i><b>3.4.2</b> Mapbox Studio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="storymaps.html"><a href="storymaps.html"><i class="fa fa-check"></i><b>4</b> Story maps</a>
<ul>
<li class="chapter" data-level="4.1" data-path="storymaps.html"><a href="storymaps.html#story-maps"><i class="fa fa-check"></i><b>4.1</b> Story maps</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="storymaps.html"><a href="storymaps.html#storymapjs"><i class="fa fa-check"></i><b>4.1.1</b> StoryMapJS</a></li>
<li class="chapter" data-level="4.1.2" data-path="storymaps.html"><a href="storymaps.html#arcgis-storymaps"><i class="fa fa-check"></i><b>4.1.2</b> ArcGIS StoryMaps</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="storymaps.html"><a href="storymaps.html#ülesanne-tänane-kuupäev-story-mapis"><i class="fa fa-check"></i><b>4.2</b> Ülesanne: tänane kuupäev <em>story map</em>’is</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="qgis.html"><a href="qgis.html"><i class="fa fa-check"></i><b>5</b> Sissejuhatus QGISi</a>
<ul>
<li class="chapter" data-level="5.1" data-path="qgis.html"><a href="qgis.html#installimine-ja-seadistamine"><i class="fa fa-check"></i><b>5.1</b> Installimine ja seadistamine</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="qgis.html"><a href="qgis.html#kasutajaliidese-keel"><i class="fa fa-check"></i><b>5.1.1</b> Kasutajaliidese keel</a></li>
<li class="chapter" data-level="5.1.2" data-path="qgis.html"><a href="qgis.html#vaikimisi-koordinaatide-referentssüsteem"><i class="fa fa-check"></i><b>5.1.2</b> Vaikimisi koordinaatide referentssüsteem</a></li>
<li class="chapter" data-level="5.1.3" data-path="qgis.html"><a href="qgis.html#paneelid-ja-tööriistad"><i class="fa fa-check"></i><b>5.1.3</b> Paneelid ja tööriistad</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="qgis.html"><a href="qgis.html#aluskaardid"><i class="fa fa-check"></i><b>5.2</b> Aluskaardid</a></li>
<li class="chapter" data-level="5.3" data-path="qgis.html"><a href="qgis.html#andmete-avamine"><i class="fa fa-check"></i><b>5.3</b> Andmete avamine</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="qgis.html"><a href="qgis.html#rasterandmed-1"><i class="fa fa-check"></i><b>5.3.1</b> Rasterandmed</a></li>
<li class="chapter" data-level="5.3.2" data-path="qgis.html"><a href="qgis.html#vektorandmed-1"><i class="fa fa-check"></i><b>5.3.2</b> Vektorandmed</a></li>
<li class="chapter" data-level="5.3.3" data-path="qgis.html"><a href="qgis.html#andmete-sisselugemine-csv-failist"><i class="fa fa-check"></i><b>5.3.3</b> Andmete sisselugemine CSV-failist</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="qgis.html"><a href="qgis.html#andmete-visualiseerimine"><i class="fa fa-check"></i><b>5.4</b> Andmete visualiseerimine</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="qgis.html"><a href="qgis.html#harjutus-1"><i class="fa fa-check"></i><b>5.4.1</b> Harjutus 1</a></li>
<li class="chapter" data-level="5.4.2" data-path="qgis.html"><a href="qgis.html#sildid"><i class="fa fa-check"></i><b>5.4.2</b> Sildid</a></li>
<li class="chapter" data-level="5.4.3" data-path="qgis.html"><a href="qgis.html#harjutus-2"><i class="fa fa-check"></i><b>5.4.3</b> Harjutus 2</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="qgis.html"><a href="qgis.html#kaartide-eksportimine"><i class="fa fa-check"></i><b>5.5</b> Kaartide eksportimine</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="avaandmed.html"><a href="avaandmed.html"><i class="fa fa-check"></i><b>6</b> Avaandmed ja repositooriumid. Andmekihtide ühendamine</a>
<ul>
<li class="chapter" data-level="6.1" data-path="avaandmed.html"><a href="avaandmed.html#avaandmed-1"><i class="fa fa-check"></i><b>6.1</b> Avaandmed</a></li>
<li class="chapter" data-level="6.2" data-path="avaandmed.html"><a href="avaandmed.html#eesti-ruumiandmed"><i class="fa fa-check"></i><b>6.2</b> Eesti ruumiandmed</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="avaandmed.html"><a href="avaandmed.html#maa-ameti-geoportaal"><i class="fa fa-check"></i><b>6.2.1</b> Maa-ameti geoportaal</a></li>
<li class="chapter" data-level="6.2.2" data-path="avaandmed.html"><a href="avaandmed.html#statistikaamet"><i class="fa fa-check"></i><b>6.2.2</b> Statistikaamet</a></li>
<li class="chapter" data-level="6.2.3" data-path="avaandmed.html"><a href="avaandmed.html#muu"><i class="fa fa-check"></i><b>6.2.3</b> Muu</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="avaandmed.html"><a href="avaandmed.html#muudriigid"><i class="fa fa-check"></i><b>6.3</b> Muude riikide ruumiandmed</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="avaandmed.html"><a href="avaandmed.html#harjutus"><i class="fa fa-check"></i><b>6.3.1</b> Harjutus</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="avaandmed.html"><a href="avaandmed.html#andmestike-ühendamine"><i class="fa fa-check"></i><b>6.4</b> Andmestike ühendamine</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="avaandmed.html"><a href="avaandmed.html#ühendamine-ühise-tunnuse-järgi"><i class="fa fa-check"></i><b>6.4.1</b> Ühendamine ühise tunnuse järgi</a></li>
<li class="chapter" data-level="6.4.2" data-path="avaandmed.html"><a href="avaandmed.html#geokodeerimine"><i class="fa fa-check"></i><b>6.4.2</b> Geokodeerimine</a></li>
<li class="chapter" data-level="6.4.3" data-path="avaandmed.html"><a href="avaandmed.html#ühendamine-ruumiinfo-järgi"><i class="fa fa-check"></i><b>6.4.3</b> Ühendamine ruumiinfo järgi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="georefereerimine.html"><a href="georefereerimine.html"><i class="fa fa-check"></i><b>7</b> Georefereerimine</a>
<ul>
<li class="chapter" data-level="7.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaartide-otsimine-ja-allalaadimine"><i class="fa fa-check"></i><b>7.1</b> Kaartide otsimine ja allalaadimine</a></li>
<li class="chapter" data-level="7.2" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-1-vana-tartu-kaardi-georefereerimine"><i class="fa fa-check"></i><b>7.2</b> Harjutus 1: vana Tartu kaardi georefereerimine</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="georefereerimine.html"><a href="georefereerimine.html#avame-kaardi-pildifaili"><i class="fa fa-check"></i><b>7.2.1</b> Avame kaardi pildifaili</a></li>
<li class="chapter" data-level="7.2.2" data-path="georefereerimine.html"><a href="georefereerimine.html#lisame-aluskaardi"><i class="fa fa-check"></i><b>7.2.2</b> Lisame aluskaardi</a></li>
<li class="chapter" data-level="7.2.3" data-path="georefereerimine.html"><a href="georefereerimine.html#georefereerime-kaardi"><i class="fa fa-check"></i><b>7.2.3</b> Georefereerime kaardi</a></li>
<li class="chapter" data-level="7.2.4" data-path="georefereerimine.html"><a href="georefereerimine.html#lõikame-kaardist-välja-ainult-vanalinna-osa"><i class="fa fa-check"></i><b>7.2.4</b> Lõikame kaardist välja ainult vanalinna osa</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-2-ajalooline-maakasutus-jägala-mõisa-külades"><i class="fa fa-check"></i><b>7.3</b> Harjutus 2: ajalooline maakasutus Jägala mõisa külades</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaardi-georefereerimine"><i class="fa fa-check"></i><b>7.3.1</b> Kaardi georefereerimine</a></li>
<li class="chapter" data-level="7.3.2" data-path="georefereerimine.html"><a href="georefereerimine.html#digiteerimine"><i class="fa fa-check"></i><b>7.3.2</b> Digiteerimine</a></li>
<li class="chapter" data-level="7.3.3" data-path="georefereerimine.html"><a href="georefereerimine.html#pindalade-arvutamine"><i class="fa fa-check"></i><b>7.3.3</b> Pindalade arvutamine</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-3-käsikirjalise-kaardi-georefereerimine"><i class="fa fa-check"></i><b>7.4</b> Harjutus 3: käsikirjalise kaardi georefereerimine</a></li>
<li class="chapter" data-level="7.5" data-path="georefereerimine.html"><a href="georefereerimine.html#veebilahendus"><i class="fa fa-check"></i><b>7.5</b> Veebilahendus</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="kirjandus.html"><a href="kirjandus.html"><i class="fa fa-check"></i>Kirjandus</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="georefereerimine" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Praktikum 7</span> Georefereerimine<a href="georefereerimine.html#georefereerimine" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Georefereerimine on raster- või vektorandmete sidumine geograafilise või projitseeritud koordinaatide referentssüsteemiga. Näiteks võime koordinaatide referentssüsteemiga siduda ajaloolise kaardi või ortofoto. Tänapäeval tehakse seda peamiselt digitaalselt.</p>
<p>Georefereerimiseks tuleb märkida samad kohad võimalikult täpselt georefereeritaval kaardil või fotol ja (tänapäevasel) kindlas koordinaatide referentssüsteemis oleval aluskaardil. Georefereerimise tulemusel luuakse rasterkujutisest uus <em>GeoTIFF</em> fail või lisatakse olemasolevale failile nn <a href="https://en.wikipedia.org/wiki/World_file"><em>world file</em></a>, milles on defineeritud rastri asukoht, mõõtkava ja pöördenurk. GeoTIFF-faili nägime ka <a href="qgis.html#qgis">QGISi sissejuhatavas praktikumis</a>, kui laadisime QGISi Tartu 1995. ja 2023. aasta ortofotod.</p>
<p>Tänases praktikumis otsime välja ajaloolised kaardid, mida soovime QGISis kasutada, <strong>georefereerime</strong> need, <strong>lõikame</strong> vajalikku suurusesse ning <strong>digiteerime</strong> neilt huvipakkuvad objektid.</p>
<div id="kaartide-otsimine-ja-allalaadimine" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Kaartide otsimine ja allalaadimine<a href="georefereerimine.html#kaartide-otsimine-ja-allalaadimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Otsime Rahvusarhiivi kaartide infosüsteemist <a href="http://www.ra.ee/kaardid/">ra.ee/kaardid</a> kaardi 19. saj Tartust ning 17. saj kaardi Jõelähtme ja Jägala-Joa piirkonnast. Näidetes kasutame järgmisi kaarte:</p>
<ul>
<li>Plan der Stadt Dorpat mit Bezeichnung der hervorragenden Gebäude und Sämmtlicher Hausnummern, <em>EAA.402.5.637</em> (leht 73), 1870. Tartu linna kaart koos silmapaistvate hoonete ja majanumbritega.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:dorpat1870"></span>
<img src="imgs/9_tartu_1870.jpg" alt="Tartu kaart 1870. a" width="70%" />
<p class="caption">
Joonis 7.1: Tartu kaart 1870. a
</p>
</div>
<ul>
<li>Jackowal Hofs Byar uti Jegelecht Sochn belägne, <em>EAA.1.2.C-III-8</em>, 1688. Jägala mõisa külad Jõelähtme kihelkonnas.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:jaggowal1688"></span>
<img src="imgs/9_jaggowal_1688.jpg" alt="Jägala mõisa kaart 1688. a" width="70%" />
<p class="caption">
Joonis 7.2: Jägala mõisa kaart 1688. a
</p>
</div>
<p>Võib kasutada samu või muid sarnaseid kaarte nendest piirkondadest. Laadime kaardid alla ning tõstame need enda arvutis kursuse kaustas andmete või kaartide kausta.</p>
</div>
<div id="harjutus-1-vana-tartu-kaardi-georefereerimine" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Harjutus 1: vana Tartu kaardi georefereerimine<a href="georefereerimine.html#harjutus-1-vana-tartu-kaardi-georefereerimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Avame QGISi. QGISis on georefereerimise tööriist <strong><code>Georeferencer</code></strong> leitav ülevalt menüüst <code>Layer</code> alt.</p>
<p style="color:#bfbfbe;">
Vanemates QGISi versioonides leiad tööriista <em>Raster</em> menüü alt. Juhul, kui seal valikut <em>Georeferencer</em> ei ole, siis tuleb see aktiveerida. Selleks vali <em>Plugins → Manage and Install Plugins</em> → otsingusse kirjuta <em>Georeferencer</em> → tee linnuke <em>Georefencer GDAL Plugin</em> ette ja sulge see aken. Nüüd on tööriist <em>Georeferencer</em> rastrimenüü all näha. Tööriista sisselülitamine on ühekordne tegevus, järgmisel korral QGISi avades on see juba olemas.
</p>
<p>Georefereerimise tööriista kohta saab täpsemalt lugeda <a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_raster/georeferencer.html">QGIS 3.28 juhendist</a>.</p>
<div id="avame-kaardi-pildifaili" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Avame kaardi pildifaili<a href="georefereerimine.html#avame-kaardi-pildifaili" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Avame <code>Georeferencer</code> tööriista ning selles 19. saj Tartu kaardi: <strong><code>File → Open Raster</code></strong>. Selles aknas liikumine käib samamoodi nagu tavalises kaardiaknas. Suumida saab hiire rullikuga ning liikuda noolte ja hiirega liikuda, kui valitud on käekujuline <code>Pan</code> ikoon. Vaatame kaardil ringi. Milliseid kohti ära tunneme?</p>
</div>
<div id="lisame-aluskaardi" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Lisame aluskaardi<a href="georefereerimine.html#lisame-aluskaardi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Georefereerimiseks on vaja aluskaarti, mille pealt leida ühised punktid ajaloolise kaardiga. Selleks laadime QGISi põhiaknasse Maa-ameti fotokaardi WMS-teenusest <code>ortofoto</code> ning ajalooliste aluskaartide WMS-teenusest <code>Hübriidkaardi</code>. Nende kasutamiseks tuleb luua ühendus aadressidega <code>https://kaart.maaamet.ee/wms/fotokaart?</code> ja <code>https://kaart.maaamet.ee/wms/ajalooline?</code>. WMS-ühenduse loomisest on täpsemalt juttu näiteks <a href="qgis.html#aluskaardid">QGISi sissejuhatavas praktikumis</a>.</p>
<p>Lisaks laadime ajalooliste kaartide WMS-teenusest ka üheverstase ja kolmeverstase kaardi, millega on hea georefereerimisel tänapäevast olukorda kõrvutada. Need kaardid ise on samuti georefereeritud ning võivad olla seetõttu kohati ebatäpsed.</p>
</div>
<div id="georefereerime-kaardi" class="section level3 hasAnchor" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Georefereerime kaardi<a href="georefereerimine.html#georefereerime-kaardi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Märgime ära mõned ühesugused geograafilised punktid georefereeritaval kaardil ja tänapäevasel aluskaardil. Selleks võtame ette jälle <code>Georeferencer</code> akna. Georefereerija aknas valime <strong><code>Edit → Add point</code></strong> ja klikime ajaloolisel kaardil mõnel hästi tuvastataval objektil. Näiteks TÜ peahoone, raekoda, kaarsild, tähetorn, Jaani kirik vms. Võib ka kasutada näiteks tänavate ristumiskohti. Seejärel valime <code>From map canvas</code> ning klikime tänapäevasel aluskaardil samas kohas.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georef1"></span>
<img src="imgs/7_georef_addpoints.gif" alt="Sama asukoha märkimine" width="80%" />
<p class="caption">
Joonis 7.3: Sama asukoha märkimine
</p>
</div>
<p>Märgime samamoodi veel neli kuni kümme punkti kaardil. Võimalusel asetame punktid kaardil võimalikult laiali, sest nii saab suurema ala kohta täpsema tulemuse.
Kui tahame, et aluskaart oleks sama nurga all nagu georefereeritav kaart, võime aluskaarti QGISi peaaknas mingi nurga alla keerata. Selleks vaab alamenüüs muuta <code>Rotation</code> parameetri väärtust.</p>
<p>Seejärel tuleb valida georefereerimise sätted. Klikime georefereerija aknas kollasel hammasrattal ja vaatame, et sätted oleksid nii nagu siinsel pildil.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefsettings"></span>
<img src="imgs/9_georef_settings.png" alt="Georefereerimise sätted" width="40%" />
<p class="caption">
Joonis 7.4: Georefereerimise sätted
</p>
</div>
<p>Vajutame rohelisel noolekesel <code>Start Georeferencing</code>. Nüüd ilmub georefereeritud kaart QGISi peaaknasse (juhul, kui sätetes oli tehtud linnuke valiku <code>Load in QGIS when done</code> ette).</p>
<p>Vaatame, kui hästi tänapäevase koordinaatide referentssüsteemiga sidumine õnnestus. Kui kaart on väga paigast ära, siis saame lisada rohkem punkte või muuta transformatsiooni tüüpi. Vastavatest algoritmidest saab täpsemalt lugeda tööriista <code>Georeferencer</code> <a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_raster/georeferencer.html#available-transformation-algorithms">juhendist</a>, ent lühidalt:</p>
<ul>
<li><code>Linear</code> algoritm sobib põhiliselt siis, kui tegu on kõrge kvaliteediga rasterkaardiga, mille koordinaatide referentssüsteem on teada. See kohandab kaardi mõõtkava, ent ei võimalda kujutist pöörata ega muul moel muundada, kuna ei muuda originaalkujutise piksleid. Enamasti sobib see seega uuematele kaartidele, mis on (kindlas projektsioonis) suure täpsusega.<br />
</li>
<li><code>Helmerti</code> algoritm sobib hea kvaliteediga suuremõõtkavalistele rasterkaartidele või ortofotodele, mille koordinaatsüsteem ei pruugi ühtida aluskaardi omaga. Võimaldab kujutist ka pöörata.<br />
</li>
<li><code>Polynomial</code> 1. algoritm lubab georefereeritavat kujutist rohkem muundada, aga tagab siiski selle, et sirged jooned kaardil jääksid sirgeteks ja paralleelsed jooned paralleelseteks.<br />
</li>
<li><code>Polynomial</code> 2. ja 3. algoritm lubavad kujutist veelgi rohkem muundada, sh painutada kujutisel olevaid sirgeid jooni.<br />
</li>
<li><code>Projective</code> algoritm on nagu <em>Polynomial</em> 1. algoritm, aga ei säilita joonte paralleelsust ning eri punktidel võib georefereeritud kaardi ulatuses olla lõpuks pisut erinev mõõtkava.<br />
</li>
<li><code>Thin Plate Spline</code> algoritm sobib eriti hästi väga ebatäpsetele kaartidele või kaartidele, mille projektsioon ei ole teada. Sälitab märgitud punktide asukohad, ent võib moonutada kõike, mis jääb punktidest eemale. Nõuab heaks tulemuseks algoritmidest kõige enam punkte (vähemalt 10).</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefalgorithms"></span>
<img src="imgs/9_georef_algorithms.png" alt="Põhilised georefereerimise algoritmid ([gis.stackexchange.com](https://gis.stackexchange.com/questions/367659/differences-between-different-georeferencing-transformation-algorithms-in-qgis))" width="70%" />
<p class="caption">
Joonis 7.5: Põhilised georefereerimise algoritmid (<a href="https://gis.stackexchange.com/questions/367659/differences-between-different-georeferencing-transformation-algorithms-in-qgis">gis.stackexchange.com</a>)
</p>
</div>
<p>Kui georefereerimise algoritmid moonutavad algse kujutise piksleid, tuleb uues, georefereeritud rasterfailis määrata korrapärases rastris sellistele pikslitele mingid uued väärtused. Seda tehakse originaalkujutise naaberpikslite abil. <strong><code>Resampling method</code></strong> määrabki ära, kui palju ja milliseid naaberpiksleid uue väärtuse määramisel arvestada.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefresampling"></span>
<img src="imgs/9_georef_resampling.jpg" alt="Georefereerimise *Resampling* meetodid ([The Core of GIS Science 2020](https://ltb.itc.utwente.nl/498/concept/81586))" width="70%" />
<p class="caption">
Joonis 7.6: Georefereerimise <em>Resampling</em> meetodid (<a href="https://ltb.itc.utwente.nl/498/concept/81586">The Core of GIS Science 2020</a>)
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefvalmis"></span>
<img src="imgs/9_georef_result.png" alt="Georefereeritud Tartu kaart hübriidkaardi ja ortofoto taustal" width="70%" />
<p class="caption">
Joonis 7.7: Georefereeritud Tartu kaart hübriidkaardi ja ortofoto taustal
</p>
</div>
<p>Võime soovi korral lisada nüüd juurde punkte, neid liigutada või mängida sätetega, et saada paremat tulemust.
Proovime näiteks ka Helmerti algoritmi ja Polynomial 1 algoritmi.</p>
</div>
<div id="lõikame-kaardist-välja-ainult-vanalinna-osa" class="section level3 hasAnchor" number="7.2.4">
<h3><span class="header-section-number">7.2.4</span> Lõikame kaardist välja ainult vanalinna osa<a href="georefereerimine.html#lõikame-kaardist-välja-ainult-vanalinna-osa" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Rastri lõikamiseks valime menüüst <strong><code>Raster → Extraction → Clip raster by extent</code></strong>.</p>
<ul>
<li>Vaatame, et <code>Input layer</code> oleks georefereeritud kaart,<br />
</li>
<li><code>Clipping extent</code> juures klikime sirvimise ikoonil ja valime <code>Draw on canvas</code><br />
</li>
<li>ning joonistame peaaknas nelinurga, mis kataks suurema osa vanalinnast.<br />
</li>
<li><code>Clipped (extent)</code> juures klikime sirvimise ikoonil, valime <code>Save to File</code> ning salvestame faili sobiva nimega kursuse kausta.<br />
</li>
<li>Klikime nupul <code>Run</code>.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefclipped"></span>
<img src="imgs/9_georef_clipped.png" alt="Georefereeritud Tartu vanalinna kaart" width="50%" />
<p class="caption">
Joonis 7.8: Georefereeritud Tartu vanalinna kaart
</p>
</div>
<p>Nüüd on lõigatud kaart peaaknas näha. Sellist lõikamist (ingl <em>clipping</em>) saab teha ka vektorkihi abil, aga sellest hiljem.</p>
</div>
</div>
<div id="harjutus-2-ajalooline-maakasutus-jägala-mõisa-külades" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Harjutus 2: ajalooline maakasutus Jägala mõisa külades<a href="georefereerimine.html#harjutus-2-ajalooline-maakasutus-jägala-mõisa-külades" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Harjutuse eesmärk on uurida ühe Põhja-Eesti küla ajaloolist maakasutust. Selleks tuleb georefereerida kaart, see osaliselt <strong>digiteerida</strong> ning arvutada digiteeritud alade pindalad. Digiteerimine tähendab uuele, tühjale vektorkihile punkt-, joon- või polügoonobjektide lisamist koos nende atribuutide väärtustega.</p>
<div id="kaardi-georefereerimine" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Kaardi georefereerimine<a href="georefereerimine.html#kaardi-georefereerimine" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Georefereerime Jägala mõisa külade 17. sajandi kaardi, kasutades samu aluskaarte, mida varem. Praema võrdlemise jaoks võime aluskaarti jällegi pisut keerata (nt 20 kraadi).</p>
<p>Kuna niivõrd vanal kaardil on hooneid, teid ja muid pidepunkte vähem, siis on soovitatav pidepunktidena kasutada looduslikke objekte. Sellel kaardil on heaks pidevaks objektiks jõgi.</p>
<p>Valime sobiva transformeerimise algoritmi (nt Helmert).</p>
<p>Pärast georefereerimist võime ajaloolist kaarti ka pisut läbipaistvamaks teha, et vaadata, kui hästi see aluskaardiga klapib (topeltklikk georefereeritud kaardil → <code>Transparency → Global Opacity</code>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:georefjagala"></span>
<img src="imgs/9_georef_jagala.png" alt="Jägala jõe ümbruse georefereeritud kaart" width="80%" />
<p class="caption">
Joonis 7.9: Jägala jõe ümbruse georefereeritud kaart
</p>
</div>
</div>
<div id="digiteerimine" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Digiteerimine<a href="georefereerimine.html#digiteerimine" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loome tühja vektorkihi <strong>alade</strong> (<em>Polygon</em>) märkimiseks: <strong><code>Layer → Create Layer → New Geopackage Layer</code></strong> (võid valida ka muu vektorandmete vormingu) ja paneme selle nimeks nt <em>koila_maakasutus</em>. Lisame kihi atribuutide hulka ka tekstilise tunnuse/atribuudi/tulba (<code>string</code>) nimega <em>tyyp</em>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:uuekihitegemine"></span>
<img src="imgs/9_uuskiht.png" alt="Maakasutuse digiteerimise kihi tegemine" width="40%" />
<p class="caption">
Joonis 7.10: Maakasutuse digiteerimise kihi tegemine
</p>
</div>
<p>Nüüd on maakasutuse alade märkimiseks loodud tühi kiht, mis ilmus ka kihtide paneelile. Seda kihti paneelil sisse-välja lülitades ei juhtu hetkel midagi, kuna sellel pole veel ühtegi punkti. Kihi atribuuttabelit vaadates on näha, et see on tühi.</p>
<p>Digiteerime georefereeritud 17. sajandi kaardilt Koila küla põllud ja heinamaad. Iga märgitud ala juurde kirjutame, kas see on <em>põld</em> või <em>heinamaa</em>. Kaardi tingmärkide tuvastamisel on abiks Rahvusarhiivi <a href="http://www.ra.ee/kaardid/index.php/et/site/page?view=symbols">leppemärkide juhend</a>. Koila küla põllumaade tuvastamisel vaadake ajaloolise kaardi vasakul all nurgas olevat legendi. Koila küla on tähistatud <em>B</em> tähega (<em>Koillküla</em>, vt nt EKI <a href="https://www.eki.ee/dict/knr/index.cgi?Q=koila&amp;F=M&amp;C06=en">kohanimeraamatut</a>).</p>
<ul>
<li>Klikime kihtide paneelil kihil <code>koila_maakasutus</code> ja vajutame üleval tööriistaribal kollasele pliiatsile (või <strong><code>Layer → Toggle editing</code></strong>). Pliiatsi kõrval olevad ikoonid muutuvad värviliseks. Valime kollasel taustal oleva valge tähekesega ikooni <code>Add Polygon Feature</code>. Nüüd saame kaardile polügoone märkida.<br />
</li>
<li>Märgime hiirega klõpsates ühe digiteeritava põllumaa polügooni piirid. <strong>Kui oleme lõpetanud, teeme paremkliki</strong>. Avanenud aknas peame polügoonobjektile määrama atribuudi <code>tyyp</code> väärtuse. Määrame selleks <em>põld</em>.<br />
</li>
<li>Kuna põllu- ja heinamaad piirnevad üksteisega, siis on kasulik aktiveerida <strong>haakumine</strong> ehk <em>snapping</em>, et üksteisega külgnevate alade ühised käänupunktid oleksid täpselt samade koordinaatidega. Selleks valime <strong><code>View → Toolbars → Snapping Toolbar</code></strong> klikime punasel magneti ikoonil ja valime selleks, mille külge haakida, käänupunktid (<code>Vertex</code>). Nüüd haakub kursor kihi läheduses automaatselt selle käänupunktide külge.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:digit1"></span>
<img src="imgs/9_digit_polygons.gif" alt="Alade digiteerimine" width="80%" />
<p class="caption">
Joonis 7.11: Alade digiteerimine
</p>
</div>
<ul>
<li>Haakimise lihtsustamiseks võib sisse lülitada ka tööriista <strong><code>Enable tracing</code></strong> <img src="imgs/11_enabletracing.png" />, mis võimaldab üht vektorobjekti teise külge haakida, ilma et peaks kõiki punkte käsitsi läbi klikkima. Piisab vaid kursori liigutamisest üle teise vektorobjekti käänupunktide.<br />
</li>
<li>Vahel, kui tahame ükshaaval käänupunktide märkimist lihtsustada ja “joonistada” lihtsalt vaba käega, võime valida pliiatsi kõrvalt tööriista <strong><code>Stream Digitizing</code></strong>.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:streamdigit"></span>
<img src="imgs/7_qgis_streamdigit.png" alt="Digiteerimine vabakäe meetodil" width="50%" />
<p class="caption">
Joonis 7.12: Digiteerimine vabakäe meetodil
</p>
</div>
<ul>
<li>Kui oleme alad digiteerinud, vajutame <code>Save</code> ja uuesti kollase pliiatsi ikooni, et lõpetada korraks kihi muutmine.</li>
</ul>
</div>
<div id="pindalade-arvutamine" class="section level3 hasAnchor" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Pindalade arvutamine<a href="georefereerimine.html#pindalade-arvutamine" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Arvutame igale märgitud alale selle pindala. Selleks tuleb atribuuttabelisse luua pindala tulp ja sisestada <strong>avaldis</strong> selle arvutamiseks. Avame tööriista <code>Field Calculator</code> (nt tööriistapaneelilt või atribuuttabeli juurest). Teeme linnukese valiku <code>Create a new field</code> ette, tulba nimeks paneme <em>pindala_ha</em> ja tulba andmetüübiks määrame kümnendmurru (<code>Decimal number (real)</code>).</p>
<p><strong><code>Expression</code></strong> lahtrisse, mis ütleb, kuidas ja mille põhjal loodud tulpa väärtusi lisada, kopeerime koodi <code>round($area / 10000, 2)</code>. See arvutab iga ala pindala ruutmeetrites (<code>$area</code>), jagab selle 10 000-ga ehk teisendab hektariteks ja lõpuks ümardab tulemuse (<code>round()</code>) kahe komakohani.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:koilapindala"></span>
<img src="imgs/9_pindala_arvutamine.png" alt="Pindala arvutamiseks tulba loomine ja kasutatud funktsioon" width="60%" />
<p class="caption">
Joonis 7.13: Pindala arvutamiseks tulba loomine ja kasutatud funktsioon
</p>
</div>
<p>Tulemuseks on kiht, mille atribuuttabelis on olemas alade pindalad. Seda saab kasutada näiteks maakasutuse ulatuse ja muutuste uurimiseks.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:koilaalad"></span>
<img src="imgs/9_koila_alad.png" alt="Digiteeritud maa-alad" width="80%" />
<p class="caption">
Joonis 7.14: Digiteeritud maa-alad
</p>
</div>
</div>
</div>
<div id="harjutus-3-käsikirjalise-kaardi-georefereerimine" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Harjutus 3: käsikirjalise kaardi georefereerimine<a href="georefereerimine.html#harjutus-3-käsikirjalise-kaardi-georefereerimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Georefereerime <a href="kaardid.html#kaardid">kaartide praktikumis</a> käsitsi joonistatud kaardid Tartu kesklinnast. Valime sobivaima algoritmi.</p>
</div>
<div id="veebilahendus" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Veebilahendus<a href="georefereerimine.html#veebilahendus" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://www.oldmapsonline.org/auth/widget?mode=select&amp;next=https%3A%2F%2Fwww.oldmapsonline.org%2Fmaps%2F">georeferencer.com</a> töötab sisuliselt täpselt samamoodi nagu QGISi Georeferencer, aga võimaldab georefereerida internetis ja ilma spetsiaalse tarkvarata.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="avaandmed.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="kirjandus.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>

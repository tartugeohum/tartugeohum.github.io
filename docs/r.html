<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Praktikum 12 Ruumiandmete analüüs R-iga | HVEE.00.045 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</title>
  <meta name="description" content="Praktikum 12 Ruumiandmete analüüs R-iga | HVEE.00.045 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="Praktikum 12 Ruumiandmete analüüs R-iga | HVEE.00.045 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praktikum 12 Ruumiandmete analüüs R-iga | HVEE.00.045 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  
  
  

<meta name="author" content="Maarja-Liisa Pilvik" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="veebirakendused.html"/>
<link rel="next" href="kirjandus.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<link href="libs/leaflet-measure-2.1.7/leaflet-measure.css" rel="stylesheet" />
<script src="libs/leaflet-measure-2.1.7/leaflet-measure.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#kursuse-korraldusest"><i class="fa fa-check"></i><b>1.1</b> Kursuse korraldusest</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#mis-on-geoinfos%C3%BCsteemid"><i class="fa fa-check"></i><b>1.2</b> Mis on geoinfosüsteemid?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#geoinfos%C3%BCsteemide-ajaloost"><i class="fa fa-check"></i><b>1.3</b> Geoinfosüsteemide ajaloost</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#ruumiandmed-ja-gis-humanitaarteadustes"><i class="fa fa-check"></i><b>1.4</b> Ruumiandmed ja GIS humanitaarteadustes</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#lugude-jutustamine"><i class="fa fa-check"></i><b>1.4.1</b> Lugude jutustamine</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#arheoloogia"><i class="fa fa-check"></i><b>1.4.2</b> Arheoloogia</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#keeleteadus"><i class="fa fa-check"></i><b>1.4.3</b> Keeleteadus</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#keele-sotsiaalteadus"><i class="fa fa-check"></i><b>1.4.4</b> Keele-/sotsiaalteadus</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#veel-n%C3%A4iteid"><i class="fa fa-check"></i><b>1.4.5</b> Veel näiteid</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#ruumiobjektid-ja-ruumiandmed"><i class="fa fa-check"></i><b>1.5</b> Ruumiobjektid ja ruumiandmed</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#vektorandmed"><i class="fa fa-check"></i><b>1.5.1</b> Vektorandmed</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#rasterandmed"><i class="fa fa-check"></i><b>1.5.2</b> Rasterandmed</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#vektor-vs.-raster"><i class="fa fa-check"></i><b>1.5.3</b> Vektor vs. raster</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="kaardid.html"><a href="kaardid.html"><i class="fa fa-check"></i><b>2</b> Kaardid, koordinaatsüsteemid ja projektsioonid</a>
<ul>
<li class="chapter" data-level="2.1" data-path="kaardid.html"><a href="kaardid.html#kaart"><i class="fa fa-check"></i><b>2.1</b> Kaart</a></li>
<li class="chapter" data-level="2.2" data-path="kaardid.html"><a href="kaardid.html#kaardi-elemendid"><i class="fa fa-check"></i><b>2.2</b> Kaardi elemendid</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="kaardid.html"><a href="kaardid.html#mootkava"><i class="fa fa-check"></i><b>2.2.1</b> Mõõtkava</a></li>
<li class="chapter" data-level="2.2.2" data-path="kaardid.html"><a href="kaardid.html#projektsioon"><i class="fa fa-check"></i><b>2.2.2</b> Koordinaatsüsteemid ja projektsioonid</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="kaardid.html"><a href="kaardid.html#kaartide-liigitus"><i class="fa fa-check"></i><b>2.3</b> Kaartide liigitus</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="kaardid.html"><a href="kaardid.html#digitaalkaardid"><i class="fa fa-check"></i><b>2.3.1</b> Digitaalkaardid</a></li>
<li class="chapter" data-level="2.3.2" data-path="kaardid.html"><a href="kaardid.html#viguriga-kaardid"><i class="fa fa-check"></i><b>2.3.2</b> Viguriga kaardid</a></li>
<li class="chapter" data-level="2.3.3" data-path="kaardid.html"><a href="kaardid.html#%C3%BClesanne"><i class="fa fa-check"></i><b>2.3.3</b> Ülesanne</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="kaardid.html"><a href="kaardid.html#kaartide-koostamine-ja-kujundamine-veebis"><i class="fa fa-check"></i><b>2.4</b> Kaartide koostamine ja kujundamine veebis</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="kaardid.html"><a href="kaardid.html#arcgis-online"><i class="fa fa-check"></i><b>2.4.1</b> ArcGIS Online</a></li>
<li class="chapter" data-level="2.4.2" data-path="kaardid.html"><a href="kaardid.html#mapbox-studio"><i class="fa fa-check"></i><b>2.4.2</b> Mapbox Studio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="storymaps.html"><a href="storymaps.html"><i class="fa fa-check"></i><b>3</b> Story maps</a>
<ul>
<li class="chapter" data-level="3.1" data-path="storymaps.html"><a href="storymaps.html#story-maps"><i class="fa fa-check"></i><b>3.1</b> Story maps</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="storymaps.html"><a href="storymaps.html#storymapjs"><i class="fa fa-check"></i><b>3.1.1</b> StoryMapJS</a></li>
<li class="chapter" data-level="3.1.2" data-path="storymaps.html"><a href="storymaps.html#arcgis-storymaps"><i class="fa fa-check"></i><b>3.1.2</b> ArcGIS StoryMaps</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="storymaps.html"><a href="storymaps.html#%C3%BClesanne-t%C3%A4nane-kuup%C3%A4ev-story-mapis"><i class="fa fa-check"></i><b>3.2</b> Ülesanne: tänane kuupäev <em>story map</em>’is</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="qgis.html"><a href="qgis.html"><i class="fa fa-check"></i><b>4</b> Sissejuhatus QGISi</a>
<ul>
<li class="chapter" data-level="4.1" data-path="qgis.html"><a href="qgis.html#installimine-ja-seadistamine"><i class="fa fa-check"></i><b>4.1</b> Installimine ja seadistamine</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="qgis.html"><a href="qgis.html#kasutajaliidese-keel"><i class="fa fa-check"></i><b>4.1.1</b> Kasutajaliidese keel</a></li>
<li class="chapter" data-level="4.1.2" data-path="qgis.html"><a href="qgis.html#vaikimisi-koordinaatide-referentss%C3%BCsteem"><i class="fa fa-check"></i><b>4.1.2</b> Vaikimisi koordinaatide referentssüsteem</a></li>
<li class="chapter" data-level="4.1.3" data-path="qgis.html"><a href="qgis.html#paneelid-ja-t%C3%B6%C3%B6riistad"><i class="fa fa-check"></i><b>4.1.3</b> Paneelid ja tööriistad</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="qgis.html"><a href="qgis.html#aluskaardid"><i class="fa fa-check"></i><b>4.2</b> Aluskaardid</a></li>
<li class="chapter" data-level="4.3" data-path="qgis.html"><a href="qgis.html#andmete-avamine"><i class="fa fa-check"></i><b>4.3</b> Andmete avamine</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="qgis.html"><a href="qgis.html#rasterandmed-1"><i class="fa fa-check"></i><b>4.3.1</b> Rasterandmed</a></li>
<li class="chapter" data-level="4.3.2" data-path="qgis.html"><a href="qgis.html#vektorandmed-1"><i class="fa fa-check"></i><b>4.3.2</b> Vektorandmed</a></li>
<li class="chapter" data-level="4.3.3" data-path="qgis.html"><a href="qgis.html#andmete-sisselugemine-csv-failist"><i class="fa fa-check"></i><b>4.3.3</b> Andmete sisselugemine CSV-failist</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="qgis.html"><a href="qgis.html#andmete-visualiseerimine"><i class="fa fa-check"></i><b>4.4</b> Andmete visualiseerimine</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="qgis.html"><a href="qgis.html#harjutus-1"><i class="fa fa-check"></i><b>4.4.1</b> Harjutus 1</a></li>
<li class="chapter" data-level="4.4.2" data-path="qgis.html"><a href="qgis.html#sildid"><i class="fa fa-check"></i><b>4.4.2</b> Sildid</a></li>
<li class="chapter" data-level="4.4.3" data-path="qgis.html"><a href="qgis.html#harjutus-2"><i class="fa fa-check"></i><b>4.4.3</b> Harjutus 2</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="qgis.html"><a href="qgis.html#kaartide-eksportimine"><i class="fa fa-check"></i><b>4.5</b> Kaartide eksportimine</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="avaandmed.html"><a href="avaandmed.html"><i class="fa fa-check"></i><b>5</b> Avaandmed ja repositooriumid. Andmekihtide ühendamine</a>
<ul>
<li class="chapter" data-level="5.1" data-path="avaandmed.html"><a href="avaandmed.html#avaandmed-1"><i class="fa fa-check"></i><b>5.1</b> Avaandmed</a></li>
<li class="chapter" data-level="5.2" data-path="avaandmed.html"><a href="avaandmed.html#eesti-ruumiandmed"><i class="fa fa-check"></i><b>5.2</b> Eesti ruumiandmed</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="avaandmed.html"><a href="avaandmed.html#maa-ameti-geoportaal"><i class="fa fa-check"></i><b>5.2.1</b> Maa-ameti geoportaal</a></li>
<li class="chapter" data-level="5.2.2" data-path="avaandmed.html"><a href="avaandmed.html#statistikaamet"><i class="fa fa-check"></i><b>5.2.2</b> Statistikaamet</a></li>
<li class="chapter" data-level="5.2.3" data-path="avaandmed.html"><a href="avaandmed.html#muud"><i class="fa fa-check"></i><b>5.2.3</b> Muud</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="avaandmed.html"><a href="avaandmed.html#muudriigid"><i class="fa fa-check"></i><b>5.3</b> Muude riikide ruumiandmed</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="avaandmed.html"><a href="avaandmed.html#harjutus"><i class="fa fa-check"></i><b>5.3.1</b> Harjutus</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="avaandmed.html"><a href="avaandmed.html#andmestike-%C3%BChendamine"><i class="fa fa-check"></i><b>5.4</b> Andmestike ühendamine</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="avaandmed.html"><a href="avaandmed.html#%C3%BChendamine-%C3%BChise-tunnuse-j%C3%A4rgi"><i class="fa fa-check"></i><b>5.4.1</b> Ühendamine ühise tunnuse järgi</a></li>
<li class="chapter" data-level="5.4.2" data-path="avaandmed.html"><a href="avaandmed.html#geokodeerimine"><i class="fa fa-check"></i><b>5.4.2</b> Geokodeerimine</a></li>
<li class="chapter" data-level="5.4.3" data-path="avaandmed.html"><a href="avaandmed.html#%C3%BChendamine-ruumiinfo-j%C3%A4rgi"><i class="fa fa-check"></i><b>5.4.3</b> Ühendamine ruumiinfo järgi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="georefereerimine.html"><a href="georefereerimine.html"><i class="fa fa-check"></i><b>6</b> Georefereerimine</a>
<ul>
<li class="chapter" data-level="6.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaartide-otsimine-ja-allalaadimine"><i class="fa fa-check"></i><b>6.1</b> Kaartide otsimine ja allalaadimine</a></li>
<li class="chapter" data-level="6.2" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-1-vana-tartu-kaardi-georefereerimine"><i class="fa fa-check"></i><b>6.2</b> Harjutus 1: vana Tartu kaardi georefereerimine</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="georefereerimine.html"><a href="georefereerimine.html#avame-kaardi-pildifaili"><i class="fa fa-check"></i><b>6.2.1</b> Avame kaardi pildifaili</a></li>
<li class="chapter" data-level="6.2.2" data-path="georefereerimine.html"><a href="georefereerimine.html#lisame-aluskaardi"><i class="fa fa-check"></i><b>6.2.2</b> Lisame aluskaardi</a></li>
<li class="chapter" data-level="6.2.3" data-path="georefereerimine.html"><a href="georefereerimine.html#georefereerime-kaardi"><i class="fa fa-check"></i><b>6.2.3</b> Georefereerime kaardi</a></li>
<li class="chapter" data-level="6.2.4" data-path="georefereerimine.html"><a href="georefereerimine.html#l%C3%B5ikame-kaardist-v%C3%A4lja-ainult-vanalinna-osa"><i class="fa fa-check"></i><b>6.2.4</b> Lõikame kaardist välja ainult vanalinna osa</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-2-ajalooline-maakasutus-j%C3%A4gala-m%C3%B5isa-k%C3%BClades"><i class="fa fa-check"></i><b>6.3</b> Harjutus 2: ajalooline maakasutus Jägala mõisa külades</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaardi-georefereerimine"><i class="fa fa-check"></i><b>6.3.1</b> Kaardi georefereerimine</a></li>
<li class="chapter" data-level="6.3.2" data-path="georefereerimine.html"><a href="georefereerimine.html#digiteerimine"><i class="fa fa-check"></i><b>6.3.2</b> Digiteerimine</a></li>
<li class="chapter" data-level="6.3.3" data-path="georefereerimine.html"><a href="georefereerimine.html#pindalade-arvutamine"><i class="fa fa-check"></i><b>6.3.3</b> Pindalade arvutamine</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="georefereerimine.html"><a href="georefereerimine.html#harjutus-3-k%C3%A4sikirjalise-kaardi-georefereerimine"><i class="fa fa-check"></i><b>6.4</b> Harjutus 3: käsikirjalise kaardi georefereerimine</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="avaldised.html"><a href="avaldised.html"><i class="fa fa-check"></i><b>7</b> Avaldised ja päringud</a>
<ul>
<li class="chapter" data-level="7.1" data-path="avaldised.html"><a href="avaldised.html#andmed"><i class="fa fa-check"></i><b>7.1</b> Andmed</a></li>
<li class="chapter" data-level="7.2" data-path="avaldised.html"><a href="avaldised.html#avaldised-1"><i class="fa fa-check"></i><b>7.2</b> Avaldised</a></li>
<li class="chapter" data-level="7.3" data-path="avaldised.html"><a href="avaldised.html#harjutused-avaldistega"><i class="fa fa-check"></i><b>7.3</b> Harjutused avaldistega</a>
<ul>
<li class="chapter" data-level="" data-path="avaldised.html"><a href="avaldised.html#harjutus-1-operaatorid-objektide-valimiseks"><i class="fa fa-check"></i>Harjutus 1: operaatorid objektide valimiseks</a></li>
<li class="chapter" data-level="" data-path="avaldised.html"><a href="avaldised.html#harjutus-2-tingimuslaused-uute-atribuutidetunnuste-loomiseks"><i class="fa fa-check"></i>Harjutus 2: tingimuslaused uute atribuutide/tunnuste loomiseks</a></li>
<li class="chapter" data-level="" data-path="avaldised.html"><a href="avaldised.html#harjutus-3-tekstiavaldised-s%C3%BCmbolite-kujundamiseks-1"><i class="fa fa-check"></i>Harjutus 3: tekstiavaldised sümbolite kujundamiseks (1)</a></li>
<li class="chapter" data-level="" data-path="avaldised.html"><a href="avaldised.html#harjutus-4-tekstiavaldised-s%C3%BCmbolite-kujundamiseks-2"><i class="fa fa-check"></i>Harjutus 4: tekstiavaldised sümbolite kujundamiseks (2)</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="avaldised.html"><a href="avaldised.html#p%C3%A4ringud"><i class="fa fa-check"></i><b>7.4</b> Päringud</a></li>
<li class="chapter" data-level="7.5" data-path="avaldised.html"><a href="avaldised.html#harjutus-p%C3%A4ringutega"><i class="fa fa-check"></i><b>7.5</b> Harjutus päringutega</a></li>
<li class="chapter" data-level="7.6" data-path="avaldised.html"><a href="avaldised.html#%C3%BClesanded"><i class="fa fa-check"></i><b>7.6</b> Ülesanded</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="avaldised.html"><a href="avaldised.html#kontrollikihelkondi"><i class="fa fa-check"></i><b>7.6.1</b> Ülesanne 1: “ei ole”/“pole” suhtelised sagedused murdekorpuses</a></li>
<li class="chapter" data-level="7.6.2" data-path="avaldised.html"><a href="avaldised.html#%C3%BClesanne-2-ei-olepole-murdeatlase-levikuandmed"><i class="fa fa-check"></i><b>7.6.2</b> Ülesanne 2: “ei ole”/“pole” murdeatlase levikuandmed</a></li>
<li class="chapter" data-level="7.6.3" data-path="avaldised.html"><a href="avaldised.html#%C3%BClesanne-3-ei-olepole-selged-eelistused"><i class="fa fa-check"></i><b>7.6.3</b> Ülesanne 3: “ei ole”/“pole” selged eelistused</a></li>
<li class="chapter" data-level="7.6.4" data-path="avaldised.html"><a href="avaldised.html#%C3%BClesanne-4-tekstiatribuutide-muutmine"><i class="fa fa-check"></i><b>7.6.4</b> Ülesanne 4: tekstiatribuutide muutmine</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tekstianalyys.html"><a href="tekstianalyys.html"><i class="fa fa-check"></i><b>8</b> Geograafiline tekstianalüüs</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tekstianalyys.html"><a href="tekstianalyys.html#sammud"><i class="fa fa-check"></i><b>8.1</b> Sammud</a></li>
<li class="chapter" data-level="8.2" data-path="tekstianalyys.html"><a href="tekstianalyys.html#ressursid"><i class="fa fa-check"></i><b>8.2</b> Ressursid</a></li>
<li class="chapter" data-level="8.3" data-path="tekstianalyys.html"><a href="tekstianalyys.html#eesti-keele-geoparsimine"><i class="fa fa-check"></i><b>8.3</b> Eesti keele geoparsimine</a></li>
<li class="chapter" data-level="8.4" data-path="tekstianalyys.html"><a href="tekstianalyys.html#harjutus-3"><i class="fa fa-check"></i><b>8.4</b> Harjutus</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="tekstianalyys.html"><a href="tekstianalyys.html#kohanime%C3%BCksuste-tuvastamine-ja-tekstikatkendite-meelsuse-tuvastamine"><i class="fa fa-check"></i><b>8.4.1</b> Kohanimeüksuste tuvastamine ja tekstikatkendite meelsuse tuvastamine</a></li>
<li class="chapter" data-level="8.4.2" data-path="tekstianalyys.html"><a href="tekstianalyys.html#tekstikatkendi-meelsuse-tuvastamine-excelis"><i class="fa fa-check"></i><b>8.4.2</b> Tekstikatkendi meelsuse tuvastamine Excelis</a></li>
<li class="chapter" data-level="8.4.3" data-path="tekstianalyys.html"><a href="tekstianalyys.html#koordinaatide-lisamine-geokodeerimine"><i class="fa fa-check"></i><b>8.4.3</b> Koordinaatide lisamine (geokodeerimine)</a></li>
<li class="chapter" data-level="8.4.4" data-path="tekstianalyys.html"><a href="tekstianalyys.html#visualiseerimine"><i class="fa fa-check"></i><b>8.4.4</b> Visualiseerimine</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="geostatistika1.html"><a href="geostatistika1.html"><i class="fa fa-check"></i><b>9</b> Geostatistika (1)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="geostatistika1.html"><a href="geostatistika1.html#punktimustri-anal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>9.1</b> Punktimustri analüüs</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="geostatistika1.html"><a href="geostatistika1.html#punktitihedus"><i class="fa fa-check"></i><b>9.1.1</b> Punktitihedus</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="geostatistika1.html"><a href="geostatistika1.html#%C3%BClesanne-1"><i class="fa fa-check"></i><b>9.2</b> Ülesanne 1</a></li>
<li class="chapter" data-level="9.3" data-path="geostatistika1.html"><a href="geostatistika1.html#model-designer"><i class="fa fa-check"></i><b>9.3</b> Model Designer</a>
<ul>
<li class="chapter" data-level="" data-path="geostatistika1.html"><a href="geostatistika1.html#sisendid"><i class="fa fa-check"></i>Sisendid</a></li>
<li class="chapter" data-level="" data-path="geostatistika1.html"><a href="geostatistika1.html#funktsioonid"><i class="fa fa-check"></i>Funktsioonid</a></li>
<li class="chapter" data-level="" data-path="geostatistika1.html"><a href="geostatistika1.html#tulemus"><i class="fa fa-check"></i>Tulemus</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="geostatistika1.html"><a href="geostatistika1.html#ruumiline-vastastikm%C3%B5ju"><i class="fa fa-check"></i><b>9.4</b> Ruumiline vastastikmõju</a></li>
<li class="chapter" data-level="9.5" data-path="geostatistika1.html"><a href="geostatistika1.html#%C3%BClesanne-2"><i class="fa fa-check"></i><b>9.5</b> Ülesanne 2</a></li>
<li class="chapter" data-level="9.6" data-path="geostatistika1.html"><a href="geostatistika1.html#klasterdamine"><i class="fa fa-check"></i><b>9.6</b> Klasterdamine</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="geostatistika2.html"><a href="geostatistika2.html"><i class="fa fa-check"></i><b>10</b> Geostatistika (2)</a>
<ul>
<li class="chapter" data-level="10.1" data-path="geostatistika2.html"><a href="geostatistika2.html#interpoleerimine"><i class="fa fa-check"></i><b>10.1</b> Interpoleerimine</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="geostatistika2.html"><a href="geostatistika2.html#distantsi-kaaluv-interpoleerimine"><i class="fa fa-check"></i><b>10.1.1</b> Distantsi kaaluv interpoleerimine</a></li>
<li class="chapter" data-level="10.1.2" data-path="geostatistika2.html"><a href="geostatistika2.html#%C3%BClesanne-1-1"><i class="fa fa-check"></i><b>10.1.2</b> Ülesanne 1</a></li>
<li class="chapter" data-level="10.1.3" data-path="geostatistika2.html"><a href="geostatistika2.html#splain-spline"><i class="fa fa-check"></i><b>10.1.3</b> Splain (<em>Spline</em>)</a></li>
<li class="chapter" data-level="10.1.4" data-path="geostatistika2.html"><a href="geostatistika2.html#%C3%BClesanne-2-1"><i class="fa fa-check"></i><b>10.1.4</b> Ülesanne 2</a></li>
<li class="chapter" data-level="10.1.5" data-path="geostatistika2.html"><a href="geostatistika2.html#%C3%BClesanne-3"><i class="fa fa-check"></i><b>10.1.5</b> Ülesanne 3</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="geostatistika2.html"><a href="geostatistika2.html#voronoi-pol%C3%BCgoonid"><i class="fa fa-check"></i><b>10.2</b> Voronoi polügoonid</a></li>
<li class="chapter" data-level="10.3" data-path="geostatistika2.html"><a href="geostatistika2.html#muud-meetodid"><i class="fa fa-check"></i><b>10.3</b> Muud meetodid</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="veebirakendused.html"><a href="veebirakendused.html"><i class="fa fa-check"></i><b>11</b> Veebirakendused, veebimajutus</a>
<ul>
<li class="chapter" data-level="11.1" data-path="veebirakendused.html"><a href="veebirakendused.html#kaardikihid-qgisis"><i class="fa fa-check"></i><b>11.1</b> Kaardikihid QGISis</a></li>
<li class="chapter" data-level="11.2" data-path="veebirakendused.html"><a href="veebirakendused.html#veebikaartide-tegemine"><i class="fa fa-check"></i><b>11.2</b> Veebikaartide tegemine</a></li>
<li class="chapter" data-level="11.3" data-path="veebirakendused.html"><a href="veebirakendused.html#%C3%BClesanne-4"><i class="fa fa-check"></i><b>11.3</b> Ülesanne</a></li>
<li class="chapter" data-level="11.4" data-path="veebirakendused.html"><a href="veebirakendused.html#veebikaartide-majutamine-ja-jagamine"><i class="fa fa-check"></i><b>11.4</b> Veebikaartide majutamine ja jagamine</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="veebirakendused.html"><a href="veebirakendused.html#%C3%BClikooli-v%C3%B5rguketas"><i class="fa fa-check"></i><b>11.4.1</b> Ülikooli võrguketas</a></li>
<li class="chapter" data-level="11.4.2" data-path="veebirakendused.html"><a href="veebirakendused.html#netlify"><i class="fa fa-check"></i><b>11.4.2</b> Netlify</a></li>
<li class="chapter" data-level="11.4.3" data-path="veebirakendused.html"><a href="veebirakendused.html#github-pages"><i class="fa fa-check"></i><b>11.4.3</b> GitHub Pages</a></li>
<li class="chapter" data-level="11.4.4" data-path="veebirakendused.html"><a href="veebirakendused.html#muud-veebimajutusteenused"><i class="fa fa-check"></i><b>11.4.4</b> Muud veebimajutusteenused</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="veebirakendused.html"><a href="veebirakendused.html#lisa-ajatelje-kasutamine-qgisis"><i class="fa fa-check"></i><b>11.5</b> LISA: ajatelje kasutamine QGISis</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>12</b> Ruumiandmete analüüs R-iga</a>
<ul>
<li class="chapter" data-level="12.1" data-path="r.html"><a href="r.html#miks-teha-kaarte-koodip%C3%B5hiselt"><i class="fa fa-check"></i><b>12.1</b> Miks teha kaarte koodipõhiselt?</a></li>
<li class="chapter" data-level="12.2" data-path="r.html"><a href="r.html#r-rstudio-ja-r-markdown"><i class="fa fa-check"></i><b>12.2</b> R, RStudio ja R Markdown</a></li>
<li class="chapter" data-level="12.3" data-path="r.html"><a href="r.html#pakettide-installimine-ja-t%C3%B6%C3%B6kataloogi-seadistamine"><i class="fa fa-check"></i><b>12.3</b> Pakettide installimine ja töökataloogi seadistamine</a></li>
<li class="chapter" data-level="12.4" data-path="r.html"><a href="r.html#andmete-sisselugemine"><i class="fa fa-check"></i><b>12.4</b> Andmete sisselugemine</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="r.html"><a href="r.html#harjutus-1-1"><i class="fa fa-check"></i><b>12.4.1</b> Harjutus 1</a></li>
<li class="chapter" data-level="12.4.2" data-path="r.html"><a href="r.html#harjutus-2-1"><i class="fa fa-check"></i><b>12.4.2</b> Harjutus 2</a></li>
<li class="chapter" data-level="12.4.3" data-path="r.html"><a href="r.html#andmete-sisselugemine-csv-failist-1"><i class="fa fa-check"></i><b>12.4.3</b> Andmete sisselugemine CSV-failist</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="r.html"><a href="r.html#kaartide-tegemine"><i class="fa fa-check"></i><b>12.5</b> Kaartide tegemine</a></li>
<li class="chapter" data-level="12.6" data-path="r.html"><a href="r.html#andmete-valimine"><i class="fa fa-check"></i><b>12.6</b> Andmete valimine</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="r.html"><a href="r.html#harjutus-3-1"><i class="fa fa-check"></i><b>12.6.1</b> Harjutus 3</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="r.html"><a href="r.html#andmestike-%C3%BChendamine-1"><i class="fa fa-check"></i><b>12.7</b> Andmestike ühendamine</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="r.html"><a href="r.html#ruumiandmed-ruumiandmed"><i class="fa fa-check"></i><b>12.7.1</b> Ruumiandmed + ruumiandmed</a></li>
<li class="chapter" data-level="12.7.2" data-path="r.html"><a href="r.html#ruumiandmed-mitteruumiandmed"><i class="fa fa-check"></i><b>12.7.2</b> Ruumiandmed + mitteruumiandmed</a></li>
<li class="chapter" data-level="12.7.3" data-path="r.html"><a href="r.html#ruumiobjektide-%C3%BChendamine-mingi-atribuudi-alusel"><i class="fa fa-check"></i><b>12.7.3</b> Ruumiobjektide ühendamine mingi atribuudi alusel</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="r.html"><a href="r.html#jooniste-eksportimine"><i class="fa fa-check"></i><b>12.8</b> Jooniste eksportimine</a></li>
<li class="chapter" data-level="12.9" data-path="r.html"><a href="r.html#geostatistika-interpoleerimine"><i class="fa fa-check"></i><b>12.9</b> Geostatistika: interpoleerimine</a></li>
<li class="chapter" data-level="12.10" data-path="r.html"><a href="r.html#veebikaardid"><i class="fa fa-check"></i><b>12.10</b> Veebikaardid</a></li>
<li class="chapter" data-level="12.11" data-path="r.html"><a href="r.html#geokodeerimine-1"><i class="fa fa-check"></i><b>12.11</b> Geokodeerimine</a></li>
<li class="chapter" data-level="12.12" data-path="r.html"><a href="r.html#%C3%BClesanne-5"><i class="fa fa-check"></i><b>12.12</b> Ülesanne</a></li>
<li class="chapter" data-level="12.13" data-path="r.html"><a href="r.html#r-i-raamatud-ja-juhendid"><i class="fa fa-check"></i><b>12.13</b> R-i raamatud ja juhendid</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="kirjandus.html"><a href="kirjandus.html"><i class="fa fa-check"></i>Kirjandus</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HVEE.00.045 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Praktikum 12</span> Ruumiandmete analüüs R-iga<a href="r.html#r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="miks-teha-kaarte-koodipõhiselt" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Miks teha kaarte koodipõhiselt?<a href="r.html#miks-teha-kaarte-koodip%C3%B5hiselt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Miks teha midagi koodipõhiselt, kui saame (võrdlemisi) samasuguseid kaarte teha ka QGISis või mõnes veebirakenduses?</p>
<p>Erinevalt nn <em>osuta-ja-klõpsa</em> tarkvaradest, kus andmete analüüs toimub puhtalt programmi kasutajaliidese erinevate vidinatega suheldes ja kindlas järjekorras kuskil ikoonidel klõpsides, jääb koodi kirjutades selge jälg sellest, mida, mis järjekorras ja kuidas tehti. See aitab nii endal kui ka teistel paremini mõista, kuidas mingi konkreetse tulemuseni jõuti.<br />
Ühtlasi võib kood tööprotsesse oluliselt lihtsustada ja kiirendada, eriti juhtudel, kus andmed võivad vahepeal muutuda või tuleb teha korduvalt sarnaseid asju. Kujutame ette näiteks olukorda, kus tegime lõputöö või publikatsiooni jaoks kaardi ning kuu aega hiljem palub juhendaja või toimetaja paari detaili kaardil muuta, ülejäänud kaart aga peaks jääma täpselt samaks. Samas oleme vahepeal enda ruumiandmetega väga palju edasi tegelenud. Millised olid täpselt kasutatud andmed, värvid, joone paksus, mõõtkava, mudeldamiseks kasutatud meetod jm? Koodis on see info kõik olemas ja see toimib sellisel juhul kui täpne “retsept” sellest, kuidas esimesel korral oma kaardini jõudsime. Niisiis pole tarvis kogu kaarditegemise protsessi uuesti läbi teha, vaid muuta koodis ära vaid vajalikud detailid.</p>
</div>
<div id="r-rstudio-ja-r-markdown" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> R, RStudio ja R Markdown<a href="r.html#r-rstudio-ja-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Meie kasutame siin kursusel R-i versiooni <strong>4.5.2</strong> ja RStudio versiooni <strong>2025.09.2</strong>, aga töötavad ka nendest pisut vanemad ja ka päris uued versioonid. Lisaks neile võiksid Windowsi kasutajad enda arvutisse installida ka programmi <a href="https://cran.r-project.org/bin/windows/Rtools/">RTools</a>.<br />
Kui sa programme enda arvutisse installida ei taha või ei saa, võib kasutada ka <a href="https://colab.research.google.com/drive/17qt-HT9_x5D-O4Yvw69MBdQ60INyFJ5k?usp=sharing">Google Colabi</a> (vali <em>Runtime</em> -&gt; <em>Change runtime type</em> -&gt; R).</p>
<p><a href="https://www.r-project.org/"><strong>R</strong></a> on vabavaraline väga võimas programmeerimiskeel ja rakendustarkvara andmeanalüüsiks, statistilisteks arvutusteks ning andmete visualiseerimiseks. R pakub väga palju statistilisi ja graafilisi meetodeid ning täieneb pidevalt uute tööriistade ja funktsioonidega. Üks R-i tugevaid külgi on just võimalus teha kõrge kvaliteediga jooniseid ja graafikuid. Kuna tegu on koodipõhise tarkvaraga, siis annab see kasutajatele suhteliselt vabad käed ning võimaldab kontrollida isegi kõige väiksemaid detaile.</p>
<p><strong>Pakettide</strong> (<em>package</em>) eesmärk on lisada mingeid funktsioone. Paljud paketid tulevad R-iga kohe kaasa, aga üldiselt peab neid (eriti spetsiifilisemate ülesannete täitmiseks) juurde installima. Hetkel on R-i kodulehel <a href="https://cran.r-project.org/web/packages/index.html">cran.r-project.org</a> üle 23 000 paketi. Pakett koosneb koodist, andmetest, dokumentatsioonist ja testidest ning seda on lihtne teistega jagada. Ka ruumiandmete analüüsimiseks, andmete töötlemiseks ja visualiseerimiseks on R-is omaette paketid, ehkki põhiosa tavalisest andmetöötlusest saab edukalt teha ka ilma lisapakette installimata.</p>
<p><a href="https://posit.co/downloads/"><strong>RStudio</strong></a> on R-i integreeritud arenduskeskkond (<em>integrated development environment</em> ehk <em>IDE</em>). See koosneb tekstiredaktorist (1), konsoolist (2) ning tööriistadest graafikute kuvamiseks, koodi silumiseks, kogu keskkonna ja ajaloo majandamiseks jpm. RStudiost on nii vabavaraline kui ka kommertsversioon. Meie kasutame vabavaralist.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:20rstudioide"></span>
<img src="imgs/20_rstudio1.png" alt="Rstudio kasutajaliidese peamised osad" width="90%" />
<p class="caption">
Joonis 12.1: Rstudio kasutajaliidese peamised osad
</p>
</div>
<p><strong>1</strong> - skriptiaken. Siia saab kirjutada oma koodi koos kommentaaridega (kommentaari algust tähistavad trellid). Skripti saab salvestada ja teinekord uuesti kasutada (<code>File → Save As</code>). Skriptifaili laiend on <code>.R</code>. Mingi skripti rea jooksutamiseks liigu hiirega sellele reale ja vajuta kas nuppu <img src="imgs/20_rstudio_run.png" /> või vajuta klahvikombinatsiooni <code>Ctrl+Enter</code> (Windowsis) / <code>Cmd+Enter</code> (Macis).<br />
<strong>2</strong> - konsool. Siia kuvatakse kogu jooksutatud skript. Lisaks saab siin ka eraldi koodi jooksutada, mis sel juhul skripti ei salvestu.<br />
<strong>3</strong> - töökeskkond (<code>Environment</code>), käskude ajalugu (<code>History</code>) jm. Töökeskkonnas näed kõiki mingi sessiooni jooksul loodud muutujaid (mingit infot säilitavaid objekte, nt tabeleid) ja funktsioone.<br />
<strong>4</strong> - failid (<code>Files</code>), joonised (<code>Plots</code>), paketid (<code>Packages</code>) jm. Failide all näed neid faile, mis on parasjagu sinu töökataloogis (<em>working directory</em>). Töökataloogi aadressi näed ka konsooli päises.</p>
<p>Lisaks tavalisele <code>.R</code>-laiendiga skriptiformaadile on üha enam kasutusel ka R Markdowni failiformaat (laiendiga <code>.Rmd</code>).<br />
<a href="https://rmarkdown.rstudio.com/"><strong>R Markdown</strong></a> on formaat tavalise teksti ning koodi kombineerimiseks ning võimaldab kirjutada täielikult reprodutseeritavaid artikleid, raamatuid, raporteid ning koostada veebilehti, interaktiivseid lahendusi jpm. Nii see juhend kui ka kogu kursuse materjalid on kirjutatud R Markdownis.</p>
<p>R Markdown koosnebki tavaliselt tekstist nagu see siin.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r.html#cb8-1" tabindex="-1"></a><span class="co"># Ning koodiplokkidest nagu see siin. Koodiplokid on Rstudios kolme ` vahel.</span></span>
<span id="cb8-2"><a href="r.html#cb8-2" tabindex="-1"></a><span class="co"># Trellid teksti ees tähistavad kommentaari nagu tavalises R-i skriptifailis </span></span>
<span id="cb8-3"><a href="r.html#cb8-3" tabindex="-1"></a><span class="co"># ning seda koodi jooksutamisel ei arvestata. See on lihtsalt inimesele lugemiseks.</span></span>
<span id="cb8-4"><a href="r.html#cb8-4" tabindex="-1"></a><span class="co"># Kood ise tuleb kirjutada ilma trellideta.</span></span>
<span id="cb8-5"><a href="r.html#cb8-5" tabindex="-1"></a><span class="co"># Näiteks allolev kood salvestab arvu 8 muutujasse nimega &quot;lemmiknumber&quot;.</span></span>
<span id="cb8-6"><a href="r.html#cb8-6" tabindex="-1"></a><span class="co"># Muutuja &quot;lemmiknumber&quot; tekib koodi jooksutamisel ka Environment-jaotisesse.</span></span>
<span id="cb8-7"><a href="r.html#cb8-7" tabindex="-1"></a>lemmiknumber <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb8-8"><a href="r.html#cb8-8" tabindex="-1"></a><span class="co"># Nüüd saame selle arvulise muutujaga teha näiteks liitmis- ja lahutamistehteid</span></span>
<span id="cb8-9"><a href="r.html#cb8-9" tabindex="-1"></a>lemmiknumber<span class="sc">+</span><span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r.html#cb10-1" tabindex="-1"></a>lemmiknumber<span class="dv">-10</span></span></code></pre></div>
<pre><code>## [1] -2</code></pre>
<p>Igat koodiploki rida võib jooksutada ka eraldi (<code>Ctrl+Enter/Cmd+Enter</code>).<br />
Laadime Moodle’ist alla tänase praktikumi failid, pakime need lahti ning asetame need failid enda selle kursuse kausta. Avame Rstudio ning seal faili <em>ruumiandmed_r.Rmd</em>, valides ülevalt vasakust nurgast <em>File → Open file</em>.</p>
</div>
<div id="pakettide-installimine-ja-töökataloogi-seadistamine" class="section level2 hasAnchor" number="12.3">
<h2><span class="header-section-number">12.3</span> Pakettide installimine ja töökataloogi seadistamine<a href="r.html#pakettide-installimine-ja-t%C3%B6%C3%B6kataloogi-seadistamine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Kõigepealt installime vajalikud paketid. Selleks jooksutame allolevat koodi. Kui kasutad R-i skripti, siis tuleb allolevad read (ja kõik edaspidised koodiread) lihtsalt skriptiaknasse kopeerida ning neid <code>Ctrl+Enter/Cmd+Enter</code> abil jooksutada. R Markdownis saab koodi jooksutada ja nii, kui klikid koodiploki paremal üleval nurgas rohelisele nupule (<code>Run current chunk</code>). Selle tulemusena tõmbab R kõik vajalikud paketid ja installib need. Sellega võib minna natuke aega. Kui protsess on lõppenud, siis kaob konsooli paremas nurgas väike punane STOP-märk. Kui konsooli trükitakse vahepeal punast teksti, mis ei alga sõnaga <code>Error:</code>, ei tasu selle pärast muretseda. R lihtsalt teavitab sind sellest, millega ta parajasti tegeleb.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r.html#cb12-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb12-2"><a href="r.html#cb12-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;sf&quot;</span>)</span>
<span id="cb12-3"><a href="r.html#cb12-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggspatial&quot;</span>)</span></code></pre></div>
<p>Selleks, et installitud pakettide funktsioone kasutama hakata, tuleb need paketid ka laadida. Selleks on käsk <code>library()</code>. Paketid tuleb installida ainult ühe korra, aga laadida tuleb need alati uuesti, kui oled vahepeal Rstudio sulgenud.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r.html#cb13-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb13-2"><a href="r.html#cb13-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb13-3"><a href="r.html#cb13-3" tabindex="-1"></a><span class="fu">library</span>(ggspatial)</span></code></pre></div>
<p>Kui paketid on laaditud, siis teeme R Markdowni failis veel ühe väikese muudatuse, et faili vaatamine oleks mugavam. Nimelt ei peaks koodi jooksutamise tulemust kohe siin koodi all näitama. Selleks valime <code>Tools → Global options → R Markdown</code> ning võtame ära linnukese valiku <code>Show output inline for all R Markdown documents</code> eest. Seejärel vajutame all servas <code>OK</code>.</p>
<p>Viimase asjana paneme paika töökataloogi ehk <em>Working directory</em>. Siin kasutame seda peamiselt selleks, et saaks andmeid lugeda lähtuvalt nende asukohast seoses meie R Markdowni faili asukohaga. Sellepärast tulekski see fail panna samasse kausta, kus on ka kaust <code>data</code> ülejäänud Moodle’ist alla laetud failidega. <em>Working directory</em> seadistamiseks saab valida ülevalt menüüribalt <code>Session → Set working directory → To Source File Location</code>. Seejärel jooksutame allolevat koodiplokki. Kui kõik on õigesti, peaks tulemuseks olema meie praeguse R Markdowni faili asukoht.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r.html#cb14-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>Kui kopeerid koodiridu R-i skriptifaili, siis hoolitse selle eest, et sisseloetavate failide kaust <code>data</code> oleks funktsiooniga <code>getwd()</code> näidatud kaustas.</p>
</div>
<div id="andmete-sisselugemine" class="section level2 hasAnchor" number="12.4">
<h2><span class="header-section-number">12.4</span> Andmete sisselugemine<a href="r.html#andmete-sisselugemine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Andmete sisselugemiseks tuleb kasutada vastavalt andmestiku tüübile funktsioone, millest enamik sisaldab mingil kujul sõna <em>read</em>. Tabelandmestiku puhul nt <code>read.delim()</code> ja <strong>vektorkujul ruumiandmete puhul <code>st_read()</code></strong> (paketist <code>sf</code>).</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r.html#cb15-1" tabindex="-1"></a>kihelkonnad <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/kihelkonnad/kihelkonnad.shp&quot;</span>)</span>
<span id="cb15-2"><a href="r.html#cb15-2" tabindex="-1"></a><span class="co"># Seda koodi võiks lugeda järgmiselt: </span></span>
<span id="cb15-3"><a href="r.html#cb15-3" tabindex="-1"></a><span class="co"># ava meie praeguse R Markdowni failiga samas kaustas olevast kaustast data/kihelkonnad/ </span></span>
<span id="cb15-4"><a href="r.html#cb15-4" tabindex="-1"></a><span class="co"># fail kihelkonnad.shp ja anna sellele kihile R-is nimeks kihelkonnad.</span></span></code></pre></div>
<p>Näeme, et sisse loetakse multipolügooni tüüpi ruumiandmed, mis on Eesti 1997. aasta koordinaatide referentssüsteemis. Kõige läänepoolsem x-koordinaat on 369020.1, kõige idapoolsem 739155.1; kõige lõunapoolsem y-koordinaat on 6377141, kõige põhjapoolsem 6634006. Kuna tegemist on projitseeritud CRS-iga, on koordinaadid esitatud meetrites.<br />
Atribuuttabelis on 120 rida ja 11 tulpa.<br />
Loeme sisse ka atlase punktikihi, kus on 279 rida ja 13 tulpa.</p>
<p><strong>Nimetame mõne tulba ümber</strong>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r.html#cb16-1" tabindex="-1"></a><span class="fu">names</span>(kihelkonnad) <span class="co"># küsi atributtabeli tulbanimesid (pane tähele, et andmestikus on ka tulp &#39;geometry&#39;!)</span></span></code></pre></div>
<pre><code>##  [1] &quot;ID&quot;         &quot;Parish_id&quot;  &quot;Name&quot;       &quot;Ger_name&quot;   &quot;Comment&quot;   
##  [6] &quot;Problem&quot;    &quot;Shape_Leng&quot; &quot;Dialect_en&quot; &quot;Shape_Le_1&quot; &quot;Shape_Area&quot;
## [11] &quot;Dialect_et&quot; &quot;geometry&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r.html#cb18-1" tabindex="-1"></a><span class="fu">names</span>(kihelkonnad)[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">&quot;German_name&quot;</span> <span class="co"># asendame 4. tulbanime tekstiga &quot;German_name&quot;</span></span></code></pre></div>
<p>Detailset infot kihi koordinaatide referentssüsteemi kohta saame küsida käsuga <strong><code>st_crs()</code></strong>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r.html#cb19-1" tabindex="-1"></a><span class="fu">st_crs</span>(kihelkonnad)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: Estonian Coordinate System of 1997 
##   wkt:
## PROJCRS[&quot;Estonian Coordinate System of 1997&quot;,
##     BASEGEOGCRS[&quot;EST97&quot;,
##         DATUM[&quot;Estonia 1997&quot;,
##             ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,
##                 LENGTHUNIT[&quot;metre&quot;,1]]],
##         PRIMEM[&quot;Greenwich&quot;,0,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         ID[&quot;EPSG&quot;,4180]],
##     CONVERSION[&quot;Estonian National Grid&quot;,
##         METHOD[&quot;Lambert Conic Conformal (2SP)&quot;,
##             ID[&quot;EPSG&quot;,9802]],
##         PARAMETER[&quot;Latitude of false origin&quot;,57.5175539305556,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8821]],
##         PARAMETER[&quot;Longitude of false origin&quot;,24,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8822]],
##         PARAMETER[&quot;Latitude of 1st standard parallel&quot;,59.3333333333333,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8823]],
##         PARAMETER[&quot;Latitude of 2nd standard parallel&quot;,58,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8824]],
##         PARAMETER[&quot;Easting at false origin&quot;,500000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8826]],
##         PARAMETER[&quot;Northing at false origin&quot;,6375000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8827]]],
##     CS[Cartesian,2],
##         AXIS[&quot;northing (X)&quot;,north,
##             ORDER[1],
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         AXIS[&quot;easting (Y)&quot;,east,
##             ORDER[2],
##             LENGTHUNIT[&quot;metre&quot;,1]],
##     USAGE[
##         SCOPE[&quot;Topographic mapping (large scale).&quot;],
##         AREA[&quot;Estonia - onshore and offshore.&quot;],
##         BBOX[57.52,20.37,60,28.2]],
##     ID[&quot;EPSG&quot;,3301]]</code></pre>
<p>Koordinaatide referentssüsteemi muutmiseks saame kasutada funktsiooni <strong><code>st_transform()</code></strong>. Teeme näiteks uue kihelkondade kihi, mille koordinaatide referentssüsteem on EPSG:4326 koodiga (vt <a href="https://epsg.io/" class="uri">https://epsg.io/</a>).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r.html#cb21-1" tabindex="-1"></a>kihelkonnad_4326 <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(kihelkonnad, <span class="at">crs =</span> <span class="dv">4326</span>) <span class="co"># uus kihelkondade kiht, mille crs on EPSG:4326</span></span>
<span id="cb21-2"><a href="r.html#cb21-2" tabindex="-1"></a><span class="fu">st_crs</span>(kihelkonnad_4326) <span class="co"># vaatame uuesti CRS-i infot</span></span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: EPSG:4326 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     ENSEMBLE[&quot;World Geodetic System 1984 ensemble&quot;,
##         MEMBER[&quot;World Geodetic System 1984 (Transit)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G730)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G873)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1150)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1674)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G1762)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2139)&quot;],
##         MEMBER[&quot;World Geodetic System 1984 (G2296)&quot;],
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         ENSEMBLEACCURACY[2.0]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;World.&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p><strong>Joonistame kaardid</strong>, et võrrelda kaht koordinaatide referentssüsteemi. Kasutame paketti <code>ggplot2</code>, mis laaditakse automaatselt koos paketiga <code>tidyverse</code>, ning funktsiooni <code>geom_sf()</code>, mis laaditakse koos paketiga <code>sf</code>, et joonistada ruumiandmete kihti.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="r.html#cb23-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb23-2"><a href="r.html#cb23-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad) <span class="sc">+</span></span>
<span id="cb23-3"><a href="r.html#cb23-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;EPSG:3301&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r.html#cb24-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb24-2"><a href="r.html#cb24-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad_4326) <span class="sc">+</span></span>
<span id="cb24-3"><a href="r.html#cb24-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;EPSG:4326&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<p>Kaks kaarti paistavad esmapilgul sarnased, ent pane tähele, et esimesel, projitseeritud kaardil on jooned veidi kõverdunud.</p>
<div id="harjutus-1-1" class="section level3 hasAnchor" number="12.4.1">
<h3><span class="header-section-number">12.4.1</span> Harjutus 1<a href="r.html#harjutus-1-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loe sisse murdeatlase <em>ei ole</em>/<em>pole</em> kiht <code>data/atlas.gpkg</code> ja nimeta sisseloetud andmekiht nimega <code>atlas</code>.</p>
<ul>
<li>Millist CRS-i on kasutatud?<br />
</li>
<li>Kui palju objekte/andmepunkte kihil on?<br />
</li>
<li>Millised andmepunkte kirjeldavad atribuudid on atributttabelis?<br />
</li>
<li>Joonista atlase punktidest kaart.<br />
</li>
<li>Lisa kaardil punktikihi alla kihelkondade kiht (vihje: kui kasutame kaht ruumiandmete kihti, siis saame liita joonisele vastavalt ka kaks <code>geom_sf()</code> kihti).</li>
</ul>
</div>
<div id="harjutus-2-1" class="section level3 hasAnchor" number="12.4.2">
<h3><span class="header-section-number">12.4.2</span> Harjutus 2<a href="r.html#harjutus-2-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loe sisse maailma riikide polügoonid <a href="https://www.naturalearthdata.com/downloads/">Natural Earth</a> lehelt (<em>large scale, 1:10m, cultural, admin 0</em>). Paki allalaetud kaust lahti ning loe ruumiandmete shapefile R-i. Nimeta sisseloetud kiht nimega <code>riigid</code>.</p>
<ul>
<li>Millist CRS-i on kasutatud?<br />
</li>
<li>Kui palju objekte/andmepunkte kihil on?<br />
</li>
<li>Millised andmepunkte kirjeldavad atribuudid on atribuuttabelis?<br />
</li>
<li>Joonista riikide polügoonidest kaart.</li>
<li>Loo uus riikide kiht, kus CRS oleks Eesti koordinaatide referentssüsteem EPSG:3301. Joonista kaart. Mis juhtub?</li>
</ul>
</div>
<div id="andmete-sisselugemine-csv-failist-1" class="section level3 hasAnchor" number="12.4.3">
<h3><span class="header-section-number">12.4.3</span> Andmete sisselugemine CSV-failist<a href="r.html#andmete-sisselugemine-csv-failist-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Nagu öeldud, saab tavaliste tabelite (st mitteruumiandmete) sisselugemiseks kasutada näiteks funktsiooni <code>read.delim()</code>, aga <code>read</code>-käskusid on tegelikult väga palju (trüki nt konsooli sisse <code>read</code> ja vajuta tabulaatorit, et näha võimalikke variante). Loeme sisse murdekorpuse sagedusandmed.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r.html#cb25-1" tabindex="-1"></a><span class="co"># tulpade eraldaja (sep) on semikoolon</span></span>
<span id="cb25-2"><a href="r.html#cb25-2" tabindex="-1"></a><span class="co"># faili kodeering (encoding) on &quot;UTF-8&quot;</span></span>
<span id="cb25-3"><a href="r.html#cb25-3" tabindex="-1"></a>korpus <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;data/eiole_pole_mk_props.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>Vaatame esimesi ridu.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r.html#cb26-1" tabindex="-1"></a><span class="fu">head</span>(korpus)</span></code></pre></div>
<pre><code>##   Murre Murrak     eiole       pole
## 1 Kirde    Jõh 0.9117647 0.08823529
## 2 Kirde    Iis 0.9062500 0.09375000
## 3   Ida    Pal 0.7191011 0.28089888
## 4  Kesk    Äks 0.9142857 0.08571429
## 5  Kesk    Amb 0.7530864 0.24691358
## 6  Kesk    Juu 0.5405405 0.45945946</code></pre>
</div>
</div>
<div id="kaartide-tegemine" class="section level2 hasAnchor" number="12.5">
<h2><span class="header-section-number">12.5</span> Kaartide tegemine<a href="r.html#kaartide-tegemine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Paketiga <code>ggplot2</code> saab teha nii kõiksugu jooniseid kui ka kaarte. Pakett põhineb nn graafikagrammatika (<em>Grammar of Graphics</em>) kontseptsioonil, mis võimaldab luua jooniseid erinevate komponentide ja kihtide kombineerimise teel. Sisuliselt toimub komponentide lisamine kihtidena pisut sarnaselt sellele, mida oleme siiani QGISis teinud. Kõigepealt lisatakse aluskiht, seejärel mingi sisukiht ning seejärel kõikvõimalikud märkused ja lisad (ehkki kihtide lisamise järjekord ei ole väga rangelt määratud).
Proovime paketi <code>ggplot2</code> abil teha oma sisseloetud andmetest kaarte.</p>
<p>Värvime maakondade polügoonid helehalli värvi (<code>fill</code>), polügoonide piirjooned samuti heledamaks halliks (<code>color</code>). Punktid teeme läbipaistvamaks (<code>alpha</code>) ja pisut suuremaks (<code>size</code>) ja kasutame halli taustaga kaarditeema asemel mustvalget teemat (<code>theme_bw()</code>). Värvinimesid ja HEX-värvikoode, mida saab kasutada, leiad näiteks <a href="https://r-charts.com/colors/">siit</a>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r.html#cb28-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb28-2"><a href="r.html#cb28-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad, <span class="at">fill =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-3"><a href="r.html#cb28-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> atlas, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb28-4"><a href="r.html#cb28-4" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>Lisame joonisele ka pealkirja (<code>title</code>) ja viite kasutatud andmetele (<code>caption</code>). Lisame ka mõõtkava (<code>annotation_scale</code> paketist <code>ggspatial</code>). Mõõtkava võib paigutada nt alumisse vasakusse (<em>bl</em>), alumisse paremasse (<em>br</em>), ülemisse vasakusse (<em>ul</em>) või ülemisse paremasse nurka (<em>ur</em>).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r.html#cb29-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb29-2"><a href="r.html#cb29-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad, <span class="at">fill =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-3"><a href="r.html#cb29-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> atlas, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb29-4"><a href="r.html#cb29-4" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb29-5"><a href="r.html#cb29-5" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Murdeatlase punktid&quot;</span>, <span class="at">caption =</span> <span class="st">&quot;Andmed: EKI (2015), Andrus Saareste (1955)&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="r.html#cb29-6" tabindex="-1"></a>    <span class="fu">annotation_scale</span>(<span class="at">location =</span> <span class="st">&quot;bl&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>Praegu oleme kujutanud kaardil lihtsalt ruumiandmeid (kus mingid polügoonid või punktid asuvad?), aga ei kajasta kuidagi visuaalselt andmestiku tunnuseid. Juhul, kui mõni kujunduselement (nt värv, suurus, kuju, läbipaistvus) on seotud <strong>atribuuttabeli tunnusega</strong>, tuleb selle tunnuse nimi ja seda kujutav visuaalne atribuut tuua välja <code>geom()</code>-kihil <strong><code>aes()</code></strong>-funktsiooni sees (<em>aesthetics</em>).</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r.html#cb30-1" tabindex="-1"></a><span class="co"># Värvime kihelkondade polügoonid vastavalt murdeala nimele</span></span>
<span id="cb30-2"><a href="r.html#cb30-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb30-3"><a href="r.html#cb30-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad, <span class="fu">aes</span>(<span class="at">fill =</span> Dialect_et))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r.html#cb31-1" tabindex="-1"></a><span class="co"># Vrd</span></span>
<span id="cb31-2"><a href="r.html#cb31-2" tabindex="-1"></a><span class="co"># ggplot() +</span></span>
<span id="cb31-3"><a href="r.html#cb31-3" tabindex="-1"></a><span class="co">#    geom_sf(data = kihelkonnad, fill = &quot;red&quot;)</span></span></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r.html#cb32-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb32-2"><a href="r.html#cb32-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad) <span class="sc">+</span></span>
<span id="cb32-3"><a href="r.html#cb32-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> atlas, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color =</span> KeelendBin))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r.html#cb33-1" tabindex="-1"></a><span class="co"># Vrd</span></span>
<span id="cb33-2"><a href="r.html#cb33-2" tabindex="-1"></a><span class="co"># ggplot() +</span></span>
<span id="cb33-3"><a href="r.html#cb33-3" tabindex="-1"></a><span class="co">#    geom_sf(data = kihelkonnad) +</span></span>
<span id="cb33-4"><a href="r.html#cb33-4" tabindex="-1"></a><span class="co">#    geom_sf(data = atlas, alpha = 0.5, size = 3, color = &quot;red&quot;)</span></span></code></pre></div>
<p>Kui mõni kujunduselement (<code>alpha</code>, <code>fill</code>, <code>color</code>, <code>size</code>, <code>shape</code> vm) on niisiis niisama <code>geom_sf()</code> funktsiooni sees, kehtib see kõikidele kihi objektidele ühtmoodi (nt kõik punktid on punased). Kui see on aga omakorda veel <code>aes()</code>-funktsiooni sees, eristatakse objektide kujundust vastavalt mingile andmestiku atribuudile/tunnusele (nt ühed punktid on punased, teised sinised, vastavalt sellele, kas tegemist on <em>ei ole</em> või <em>pole</em> punktiga).</p>
<p>Atribuuttabeliga seotud kujunduselementide välimuse muutmiseks (enamasti nt värvipaleti vahetamiseks) saab kasutada eraldi <code>scale_...</code>-funktsioone. Näiteks täitevärvi (<code>fill</code>) värvipaletti saab vahetada funktsioonidega, mis algavad <code>scale_fill_...</code>, ilma täitevärvita sümboli või äärejoone (<code>color</code>) värvipaletti saab vahetada funktsioonidega, mis algavad <code>scale_color_...</code>.<br />
Värvime maakonnad nt Viridise diskreetse, st mittepideva värviskaalaga (<code>_d</code>) ja punktid <a href="https://r-graph-gallery.com/38-rcolorbrewers-palettes.html">Breweri</a> kvalitatiivsete (st mittearvuliste) tunnuste jaoks mõeldud värvidega.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r.html#cb34-1" tabindex="-1"></a><span class="co"># Vahetame maakondade värviskaalat</span></span>
<span id="cb34-2"><a href="r.html#cb34-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb34-3"><a href="r.html#cb34-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad, <span class="fu">aes</span>(<span class="at">fill =</span> Dialect_et)) <span class="sc">+</span></span>
<span id="cb34-4"><a href="r.html#cb34-4" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r.html#cb35-1" tabindex="-1"></a><span class="co"># Vahetame punktide värviskaalat</span></span>
<span id="cb35-2"><a href="r.html#cb35-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb35-3"><a href="r.html#cb35-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad) <span class="sc">+</span></span>
<span id="cb35-4"><a href="r.html#cb35-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> atlas, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color =</span> KeelendBin)) <span class="sc">+</span></span>
<span id="cb35-5"><a href="r.html#cb35-5" tabindex="-1"></a>    <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">&quot;qual&quot;</span>, <span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Võime määrata värvid ka käsitsi, nt <code>scale_color_manual(values = c("pink", "green"))</code>.</p>
</div>
<div id="andmete-valimine" class="section level2 hasAnchor" number="12.6">
<h2><span class="header-section-number">12.6</span> Andmete valimine<a href="r.html#andmete-valimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ruumiandmete filtreerimiseks on meil kasutada <code>dplyr</code> pakett, mis võimaldab paari funktsiooni abil suure osa andmetöötlusest ära teha ja mis saab laaditud koos <code>tidyverse</code>’i paketi laadimisega.<br />
Filtreerime kihelkondade kihilt ainult saarte murde alla kuuluvad polügoonid. Selleks võime esmalt küsida, mis on üldse kihelkondade kihi tulbanimed.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r.html#cb36-1" tabindex="-1"></a><span class="fu">names</span>(kihelkonnad)</span></code></pre></div>
<pre><code>##  [1] &quot;ID&quot;          &quot;Parish_id&quot;   &quot;Name&quot;        &quot;German_name&quot; &quot;Comment&quot;    
##  [6] &quot;Problem&quot;     &quot;Shape_Leng&quot;  &quot;Dialect_en&quot;  &quot;Shape_Le_1&quot;  &quot;Shape_Area&quot; 
## [11] &quot;Dialect_et&quot;  &quot;geometry&quot;</code></pre>
<p>Nüüd filtreerime kihelkondade kihilt need read ja need kihelkondade polügoonid, kus tulbas <code>Dialect_et</code> on väärtus <code>Saarte</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r.html#cb38-1" tabindex="-1"></a>kihelkonnad <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="r.html#cb38-2" tabindex="-1"></a>    <span class="fu">filter</span>(Dialect_et <span class="sc">==</span> <span class="st">&quot;Saarte&quot;</span>)</span></code></pre></div>
<pre><code>## Simple feature collection with 18 features and 11 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: 369020.1 ymin: 6404452 xmax: 502423.3 ymax: 6551381
## Projected CRS: Estonian Coordinate System of 1997
## First 10 features:
##    ID Parish_id       Name  German_name
## 1   2       Muh       Muhu         Mohn
## 2   3       Khn      Kihnu        Kühnö
## 3   4       Ruh      Ruhnu         Runö
## 4   5       Jaa      Jaani St. Johannis
## 5   6       Vll    Valjala        Wolde
## 6   7       Mus   Mustjala       Mustel
## 7   8       Kaa     Kaarma       Karmel
## 8   9       Kär      Kärla       Kergel
## 9  10       Khk Kihelkonna     Kielkond
## 10 11       Jäm     Jämaja        Jamma
##                                                                                Comment
## 1                                                                  Piirid kontrollitud
## 2  Ei olnud omaette kihelkond, ent loetakse siiski etnograafiliselt eraldi piirkonnaks
## 3                                                                         Kontrollitud
## 4                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 5                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 6                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 7                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 8                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 9                        Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
## 10                       Katastripiiride põhjal üle kontrollitud (P. Päll, 2013-01-15)
##    Problem Shape_Leng Dialect_en Shape_Le_1 Shape_Area Dialect_et
## 1     &lt;NA&gt;  166662.20    Insular  152068.60  208717779     Saarte
## 2     &lt;NA&gt;   57101.22    Insular   43719.90   17486775     Saarte
## 3     &lt;NA&gt;   26172.08    Insular   22586.64   11903885     Saarte
## 4     &lt;NA&gt;   78056.11    Insular   72996.58  120846149     Saarte
## 5     &lt;NA&gt;  134426.80    Insular  125282.86  210185513     Saarte
## 6     &lt;NA&gt;  114295.25    Insular  109866.84  226931935     Saarte
## 7     &lt;NA&gt;  170224.11    Insular  160600.13  373623450     Saarte
## 8     &lt;NA&gt;   77964.86    Insular   77959.20  228263844     Saarte
## 9     &lt;NA&gt;  394865.11    Insular  364986.01  459481464     Saarte
## 10    &lt;NA&gt;  113085.92    Insular   95051.81  142890724     Saarte
##                          geometry
## 1  MULTIPOLYGON (((463501.9 64...
## 2  MULTIPOLYGON (((500539.8 64...
## 3  MULTIPOLYGON (((456664 6404...
## 4  MULTIPOLYGON (((445725.1 64...
## 5  MULTIPOLYGON (((437423 6465...
## 6  MULTIPOLYGON (((401102.4 64...
## 7  MULTIPOLYGON (((415976.4 64...
## 8  MULTIPOLYGON (((404232.4 64...
## 9  MULTIPOLYGON (((375155.3 64...
## 10 MULTIPOLYGON (((383088.7 64...</code></pre>
<p>Nn toru <code>%&gt;%</code> suunab mingi objekti või väljundi uue funktsiooni sisse. Praegusel juhul võtsime niisiis kihelkondade kihi ja selle suunasime <code>filter()</code>-funktsiooni. Võime filtreerimise väljundi omakorda suunata järgmisse funktsiooni, näiteks joonise tegemise funktsiooni. Sellisel juhul pole <code>geom_sf()</code> funktsioonis vaja eraldi andmestikku täpsustada, sest toru ütleb ära, et andmestik tuleb eelnevate käskude väljundist.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r.html#cb40-1" tabindex="-1"></a>kihelkonnad <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="r.html#cb40-2" tabindex="-1"></a>    <span class="fu">filter</span>(Dialect_et <span class="sc">==</span> <span class="st">&quot;Saarte&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="r.html#cb40-3" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="r.html#cb40-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<p>Teine variant on salvestada filtreeritud andmed eraldi muutujasse ja kasutada seejärel <code>ggplot()</code> funktsiooni nii nagu ennegi.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r.html#cb41-1" tabindex="-1"></a>kihelkonnad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Dialect_et <span class="sc">==</span> <span class="st">&quot;Saarte&quot;</span>) <span class="ot">-&gt;</span> saarte_murre</span>
<span id="cb41-2"><a href="r.html#cb41-2" tabindex="-1"></a><span class="co"># saame suunamist teha ka vasakult paremale -&gt;</span></span>
<span id="cb41-3"><a href="r.html#cb41-3" tabindex="-1"></a><span class="co"># sama tulemuse saaks koodiga</span></span>
<span id="cb41-4"><a href="r.html#cb41-4" tabindex="-1"></a><span class="co"># saarte_murre &lt;- kihelkonnad %&gt;% filter(Dialect_et == &quot;Saarte&quot;)</span></span>
<span id="cb41-5"><a href="r.html#cb41-5" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb41-6"><a href="r.html#cb41-6" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> saarte_murre)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>Ridade filtreerimisel töötavad sarnased operaatorid, mida oleme näinud ka QGISis:</p>
<ul>
<li><code>&gt;</code> on suurem kui<br />
</li>
<li><code>&lt;</code> on väiksem kui</li>
<li><code>&gt;=</code> on suurem kui või võrdne<br />
</li>
<li><code>&lt;=</code> on väiksem kui või võrdne<br />
</li>
<li><code>==</code> on võrdne<br />
</li>
<li><code>!=</code> ei ole võrdne<br />
</li>
<li><code>%in%</code> kuulub hulka</li>
</ul>
<p>Valime atlase punktikihilt ainult <em>pole</em> punktid ja kuvame need kihelkondade kaardil. Kihelkondade kiht peab tulema enne punktikihti, et see punkte ära ei kataks.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r.html#cb42-1" tabindex="-1"></a><span class="fu">names</span>(atlas) <span class="co"># vaatame tulbanimesid</span></span></code></pre></div>
<pre><code>##  [1] &quot;ANIMI&quot;      &quot;ONIMI&quot;      &quot;MNIMI&quot;      &quot;SaKhkLyh&quot;   &quot;SaKhk&quot;     
##  [6] &quot;SaKyla&quot;     &quot;SaKJEes&quot;    &quot;SaKJPrk&quot;    &quot;SaKJSynd&quot;   &quot;Keelend&quot;   
## [11] &quot;SaKom&quot;      &quot;KeelendBin&quot; &quot;KeelendNum&quot; &quot;geom&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r.html#cb44-1" tabindex="-1"></a><span class="fu">head</span>(atlas) <span class="co"># vaatame esimesi ridu</span></span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 13 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: 425475.3 ymin: 6507561 xmax: 535475 ymax: 6590791
## Projected CRS: Estonian Coordinate System of 1997
##                ANIMI         ONIMI         MNIMI SaKhkLyh        SaKhk
## 1        Leibre küla   Vigala vald Rapla maakond      Vig       Vigala
## 2      Paldiski linn Paldiski linn Harju maakond      HMd Harju-Madise
## 3 Haabersti linnaosa       Tallinn Harju maakond      Kei        Keila
## 4       Muraste küla    Harku vald Harju maakond      Kei        Keila
## 5       Ilmandu küla    Harku vald Harju maakond      Kei        Keila
## 6         Selja küla    Käina vald  Hiiu maakond      Käi        Käina
##      SaKyla SaKJEes SaKJPrk SaKJSynd     Keelend                     SaKom
## 1 Leilavere    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 2    Leetse    &lt;NA&gt;    &lt;NA&gt;       NA        põle                      &lt;NA&gt;
## 3   Kakumäe    &lt;NA&gt;    &lt;NA&gt;       NA        pole                      &lt;NA&gt;
## 4   Muraste    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 5   Ilmandu    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 6     Selja    &lt;NA&gt;    &lt;NA&gt;       NA        pole T. s. Eduard Mäehans 1890
##   KeelendBin KeelendNum                     geom
## 1     ei ole          1 POINT (523059.3 6507561)
## 2       pole          0 POINT (505646.8 6579844)
## 3       pole          0   POINT (535475 6586658)
## 4     ei ole          1 POINT (525130.3 6590791)
## 5     ei ole          1 POINT (527089.1 6589553)
## 6       pole          0 POINT (425475.3 6522034)</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r.html#cb46-1" tabindex="-1"></a>atlas <span class="sc">%&gt;%</span> <span class="fu">filter</span>(KeelendBin <span class="sc">==</span> <span class="st">&quot;pole&quot;</span>) <span class="ot">-&gt;</span> pole_punktid</span>
<span id="cb46-2"><a href="r.html#cb46-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb46-3"><a href="r.html#cb46-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad, <span class="at">fill =</span> <span class="st">&quot;grey90&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>) <span class="sc">+</span> </span>
<span id="cb46-4"><a href="r.html#cb46-4" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> pole_punktid, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb46-5"><a href="r.html#cb46-5" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>Atlase punktikihi puhul meil murrete infot teada ei ole (on ainult maakondade info). Selleks, et kuvada korraga nt keskmurde kihelkondi JA keskmurde atlase punkte, peaksime atlase punktidele nende kihelkonna info põhjal leidma ka murrete nimed.</p>
<div id="harjutus-3-1" class="section level3 hasAnchor" number="12.6.1">
<h3><span class="header-section-number">12.6.1</span> Harjutus 3<a href="r.html#harjutus-3-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vali riikide kihilt</p>
<ul>
<li>ainult riigid, mille rahvaarv on üle 100 miljoni ja kuva need kaardil (atribuut <code>POP_EST</code>), värvi polügoonid vastavalt maailmajaole (atribuut <code>REGION_UN</code>);<br />
</li>
<li>ainult Euroopa riigid ja kuva need kaardil (atribuut <code>REGION_UN</code>), värvi polügoonid vastavalt rahvaarvule (atribuut <code>POP_EST</code>);<br />
</li>
<li>ainult Euroopa riigid, mille rahvaarv on üle 100 miljoni, ja kuva need kaardil;<br />
</li>
<li>ainult Eesti polügoon (atribuut <code>NAME</code>) ja salvesta see eraldi objekti nimega <code>eesti</code>.</li>
</ul>
</div>
</div>
<div id="andmestike-ühendamine-1" class="section level2 hasAnchor" number="12.7">
<h2><span class="header-section-number">12.7</span> Andmestike ühendamine<a href="r.html#andmestike-%C3%BChendamine-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ruumiandmed-ruumiandmed" class="section level3 hasAnchor" number="12.7.1">
<h3><span class="header-section-number">12.7.1</span> Ruumiandmed + ruumiandmed<a href="r.html#ruumiandmed-ruumiandmed" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Ruumiandmete</strong> omavahel ühendamiseks (st puhtalt koordinaadipõhiseks andmete ühendamiseks) saab kasutada funktsiooni <strong><code>st_join()</code></strong> (paketist <code>sf</code>). Selleks, et ühendamisel säiliks andmestiku vektortüübina punktandmestik, mitte polügoonid, peaksime vasakule poole panema atlase andmestiku nime ja paremale kihelkondade oma.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r.html#cb47-1" tabindex="-1"></a>atlas_khk <span class="ot">&lt;-</span> <span class="fu">st_join</span>(atlas, kihelkonnad)</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r.html#cb48-1" tabindex="-1"></a><span class="fu">head</span>(atlas_khk)</span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 24 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: 425475.3 ymin: 6507561 xmax: 535475 ymax: 6590791
## Projected CRS: Estonian Coordinate System of 1997
##                ANIMI         ONIMI         MNIMI SaKhkLyh        SaKhk
## 1        Leibre küla   Vigala vald Rapla maakond      Vig       Vigala
## 2      Paldiski linn Paldiski linn Harju maakond      HMd Harju-Madise
## 3 Haabersti linnaosa       Tallinn Harju maakond      Kei        Keila
## 4       Muraste küla    Harku vald Harju maakond      Kei        Keila
## 5       Ilmandu küla    Harku vald Harju maakond      Kei        Keila
## 6         Selja küla    Käina vald  Hiiu maakond      Käi        Käina
##      SaKyla SaKJEes SaKJPrk SaKJSynd     Keelend                     SaKom
## 1 Leilavere    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 2    Leetse    &lt;NA&gt;    &lt;NA&gt;       NA        põle                      &lt;NA&gt;
## 3   Kakumäe    &lt;NA&gt;    &lt;NA&gt;       NA        pole                      &lt;NA&gt;
## 4   Muraste    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 5   Ilmandu    &lt;NA&gt;    &lt;NA&gt;       NA ei (äi) ole                      &lt;NA&gt;
## 6     Selja    &lt;NA&gt;    &lt;NA&gt;       NA        pole T. s. Eduard Mäehans 1890
##   KeelendBin KeelendNum ID Parish_id         Name  German_name
## 1     ei ole          1 37       Vig       Vigala       Fickel
## 2       pole          0 27       HMd Harju-Madise St. Matthias
## 3       pole          0 26       Kei        Keila        Kegel
## 4     ei ole          1 26       Kei        Keila        Kegel
## 5     ei ole          1 26       Kei        Keila        Kegel
## 6       pole          0 46       Käi        Käina       Keinis
##                                                                                     Comment
## 1            Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-26)
## 2 Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-12) + Ris piir
## 3            Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-12)
## 4            Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-12)
## 5            Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-12)
## 6            Kihelkonnapiirid mõisapiiride järgi üle kontrollitud (Peeter Päll, 2012-11-27)
##   Problem Shape_Leng Dialect_en Shape_Le_1 Shape_Area Dialect_et
## 1    &lt;NA&gt;   109783.2    Western   109656.3  361383036      Lääne
## 2    &lt;NA&gt;   112767.7        Mid   110349.6  173357161       Kesk
## 3    &lt;NA&gt;   145259.7        Mid   142289.8  627679360       Kesk
## 4    &lt;NA&gt;   145259.7        Mid   142289.8  627679360       Kesk
## 5    &lt;NA&gt;   145259.7        Mid   142289.8  627679360       Kesk
## 6    &lt;NA&gt;   125610.6    Insular   119959.6  199587278     Saarte
##                       geom
## 1 POINT (523059.3 6507561)
## 2 POINT (505646.8 6579844)
## 3   POINT (535475 6586658)
## 4 POINT (525130.3 6590791)
## 5 POINT (527089.1 6589553)
## 6 POINT (425475.3 6522034)</code></pre>
<p>Funktsioon <code>st_join()</code> vaatab niisiis iga punkti puhul, millise kihelkonna polügooni sisse see punkt jääb, ning lisab punktile vastava kihelkonna info (sh info selle kohta, millise murdeala alla kihelkond kuulub).</p>
<p>Kuvame kaardil nüüd keskmurde kihelkondade polügoone ja keskmurde piiridesse jäävaid murdeatlase punkte.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r.html#cb50-1" tabindex="-1"></a>kesk_khk <span class="ot">&lt;-</span> kihelkonnad <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Dialect_et <span class="sc">==</span> <span class="st">&quot;Kesk&quot;</span>)</span>
<span id="cb50-2"><a href="r.html#cb50-2" tabindex="-1"></a>kesk_atlas <span class="ot">&lt;-</span> atlas_khk <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Dialect_et <span class="sc">==</span> <span class="st">&quot;Kesk&quot;</span>)</span>
<span id="cb50-3"><a href="r.html#cb50-3" tabindex="-1"></a></span>
<span id="cb50-4"><a href="r.html#cb50-4" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb50-5"><a href="r.html#cb50-5" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kesk_khk) <span class="sc">+</span></span>
<span id="cb50-6"><a href="r.html#cb50-6" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kesk_atlas) <span class="sc">+</span></span>
<span id="cb50-7"><a href="r.html#cb50-7" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Keskmurde kihelkonnad ja murdeatlase punktid&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<p>Võtame kaardilt ära ka koordinaadistiku ja värvime tausta tumehalliks</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="r.html#cb51-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb51-2"><a href="r.html#cb51-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kesk_khk) <span class="sc">+</span></span>
<span id="cb51-3"><a href="r.html#cb51-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kesk_atlas, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color =</span> KeelendBin)) <span class="sc">+</span></span>
<span id="cb51-4"><a href="r.html#cb51-4" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Keskmurde kihelkonnad ja murdeatlase punktid&quot;</span>) <span class="sc">+</span></span>
<span id="cb51-5"><a href="r.html#cb51-5" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(), <span class="co"># kaota koordinaadistik</span></span>
<span id="cb51-6"><a href="r.html#cb51-6" tabindex="-1"></a>          <span class="at">axis.text =</span> <span class="fu">element_blank</span>(), <span class="co"># kaota telgede tekst</span></span>
<span id="cb51-7"><a href="r.html#cb51-7" tabindex="-1"></a>          <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(), <span class="co"># kaota telgede kriipsud</span></span>
<span id="cb51-8"><a href="r.html#cb51-8" tabindex="-1"></a>          <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;grey40&quot;</span>)) <span class="co"># lisa joonisele taust, mis oleks täidetud halli värviga</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<p>Väiksema ala puhul võime punktide asemel kuvada ehk hoopis konkreetsete keelendite silte.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r.html#cb52-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb52-2"><a href="r.html#cb52-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> kesk_khk) <span class="sc">+</span></span>
<span id="cb52-3"><a href="r.html#cb52-3" tabindex="-1"></a>    <span class="fu">geom_sf_text</span>(<span class="at">data =</span> kesk_atlas, <span class="fu">aes</span>(<span class="at">label =</span> Keelend), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> <span class="co"># sildid</span></span>
<span id="cb52-4"><a href="r.html#cb52-4" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Keskmurde kihelkonnad ja murdeatlase keelendid&quot;</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="r.html#cb52-5" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb52-6"><a href="r.html#cb52-6" tabindex="-1"></a>          <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb52-7"><a href="r.html#cb52-7" tabindex="-1"></a>          <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb52-8"><a href="r.html#cb52-8" tabindex="-1"></a>          <span class="at">axis.title =</span> <span class="fu">element_blank</span>(), <span class="co"># kaotame x- ja y- telje pealkirjad</span></span>
<span id="cb52-9"><a href="r.html#cb52-9" tabindex="-1"></a>          <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;grey40&quot;</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="ruumiandmed-mitteruumiandmed" class="section level3 hasAnchor" number="12.7.2">
<h3><span class="header-section-number">12.7.2</span> Ruumiandmed + mitteruumiandmed<a href="r.html#ruumiandmed-mitteruumiandmed" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ruumiandmete ja mitteruumiandmete ühendamiseks saab kasutada muid <code>..._join()</code>-funktsioone (paketist <code>dplyr</code>, mis peaks laaditama automaatselt, kui laadid paketi <code>tidyverse</code>). Näiteks <strong><code>left_join()</code></strong> ühendab kaks andmestikku nii, et uude andmestikku jäävad vasakpoolsest andmestikust kõik read ja parempoolsest andmestikust need read, mis tal on vasakpoolsega ühised. Säilib ka vasakpoolsete andmete andmetüüp (nt kui vasakpoolne andmestik on ruumiandmete andmestik ja parempoolne tavaline tabel, on ühendamisel tekkiv andmestik ka ruumiandmete andmestik). Teiste <code>join</code>-meetodite kohta saad lugeda, kui trükid konsooli <code>?join</code> ja vajutad Enterit.</p>
<p>Kui tahame ühendada nüüd kihelkondade polügoonide andmeid (<code>kihelkonnad</code>) ja murdekorpuse sagedusandmeid (<code>korpus</code>), peame kõigepealt tegema kindlaks, millised on need tulbanimed, mis mõlemas andmestikus sisaldavad samu väärtusi.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="r.html#cb53-1" tabindex="-1"></a><span class="fu">names</span>(kihelkonnad)</span></code></pre></div>
<pre><code>##  [1] &quot;ID&quot;          &quot;Parish_id&quot;   &quot;Name&quot;        &quot;German_name&quot; &quot;Comment&quot;    
##  [6] &quot;Problem&quot;     &quot;Shape_Leng&quot;  &quot;Dialect_en&quot;  &quot;Shape_Le_1&quot;  &quot;Shape_Area&quot; 
## [11] &quot;Dialect_et&quot;  &quot;geometry&quot;</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="r.html#cb55-1" tabindex="-1"></a><span class="fu">names</span>(korpus)</span></code></pre></div>
<pre><code>## [1] &quot;Murre&quot;  &quot;Murrak&quot; &quot;eiole&quot;  &quot;pole&quot;</code></pre>
<p>Ühendame kihelkondade kihi tulba <code>Parish_id</code> põhjal ja korpuse kihi tulba <code>Murrak</code> põhjal. Mõlemad sisaldavad kihelkondade lühendeid.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="r.html#cb57-1" tabindex="-1"></a>yhendatud <span class="ot">&lt;-</span> <span class="fu">left_join</span>(kihelkonnad, korpus, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;Parish_id&quot;</span> <span class="ot">=</span> <span class="st">&quot;Murrak&quot;</span>))</span></code></pre></div>
<p>Värvime nüüd kihelkonnad vastavalt sellele, kui suur on mingis kihelkonnas <em>pole</em> kasutamise osakaal.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r.html#cb58-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb58-2"><a href="r.html#cb58-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> yhendatud, <span class="fu">aes</span>(<span class="at">fill =</span> pole))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<p>Valime värviskaala, kus helesinine märgib väikest osakaalu, tumesinine suurt osakaalu ja vahepealsed väärtused jäävad nende vahele. Kihelkonnad, kust andmed puuduvad, värvime helehalliks.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="r.html#cb59-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb59-2"><a href="r.html#cb59-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> yhendatud, <span class="fu">aes</span>(<span class="at">fill =</span> pole)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="r.html#cb59-3" tabindex="-1"></a>    <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;dodgerblue4&quot;</span>, <span class="at">na.value =</span> <span class="st">&quot;grey80&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-4"><a href="r.html#cb59-4" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
</div>
<div id="ruumiobjektide-ühendamine-mingi-atribuudi-alusel" class="section level3 hasAnchor" number="12.7.3">
<h3><span class="header-section-number">12.7.3</span> Ruumiobjektide ühendamine mingi atribuudi alusel<a href="r.html#ruumiobjektide-%C3%BChendamine-mingi-atribuudi-alusel" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Kui tahame aga näiteks ühendada hoopis kihelkondi atribuudi <code>Dialect_et</code> põhjal murdealadeks, saame seda teha funktsioonide <code>group_by()</code> ja <code>summarise()</code> abil (paketist <code>tidyverse</code>).</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="r.html#cb60-1" tabindex="-1"></a>kihelkonnad <span class="sc">%&gt;%</span> <span class="co"># võta kihelkondade kiht</span></span>
<span id="cb60-2"><a href="r.html#cb60-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Dialect_et) <span class="sc">%&gt;%</span> <span class="co"># grupeeri kihelkonnad murdeala põhjal</span></span>
<span id="cb60-3"><a href="r.html#cb60-3" tabindex="-1"></a>  <span class="fu">summarise</span>() <span class="ot">-&gt;</span> murded <span class="co"># ühenda iga murdeala kihelkonnad üheks polügooniks ning salvesta tulemus objekti nimega &#39;murded&#39;</span></span>
<span id="cb60-4"><a href="r.html#cb60-4" tabindex="-1"></a></span>
<span id="cb60-5"><a href="r.html#cb60-5" tabindex="-1"></a><span class="co"># Teeme joonise</span></span>
<span id="cb60-6"><a href="r.html#cb60-6" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb60-7"><a href="r.html#cb60-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> murded, <span class="fu">aes</span>(<span class="at">fill =</span> Dialect_et))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
</div>
</div>
<div id="jooniste-eksportimine" class="section level2 hasAnchor" number="12.8">
<h2><span class="header-section-number">12.8</span> Jooniste eksportimine<a href="r.html#jooniste-eksportimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Kaarte saab eksportida paremal olevast <em>Plots</em> aknast, valides <em>Export</em> (see toimib juhul, kui oled enne määranud, et R Markdowni koodiplokkide väljundeid ei kuvataks markdowni faili sees; vastasel juhul ei kuvata <em>Plots</em> jaotises midagi). Samuti võib koodi lõppu lisada funktsiooni <code>ggsave("failinimi.png")</code>. Seejärel salvestatakse fail <em>Working directory</em> asukohta, mida saad vaadata funktsiooniga <code>getwd()</code>.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="r.html#cb61-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb61-2"><a href="r.html#cb61-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> yhendatud, <span class="fu">aes</span>(<span class="at">fill =</span> pole)) <span class="sc">+</span></span>
<span id="cb61-3"><a href="r.html#cb61-3" tabindex="-1"></a>    <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;dodgerblue4&quot;</span>, <span class="at">na.value =</span> <span class="st">&quot;grey80&quot;</span>) <span class="sc">+</span></span>
<span id="cb61-4"><a href="r.html#cb61-4" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb61-5"><a href="r.html#cb61-5" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;minu_kaart.png&quot;</span>)</span></code></pre></div>
<p>Veidi rohkem kontrolli joonise parameetrite üle saad, kui kasutad <code>png()</code>, <code>tiff()</code> vmt funktsiooni, lisad selle järele oma joonise koodi ja kõige lõppu <code>dev.off()</code>.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="r.html#cb62-1" tabindex="-1"></a><span class="fu">png</span>(<span class="at">filename =</span> <span class="st">&quot;minu_kaart.png&quot;</span>, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>, <span class="at">res =</span> <span class="dv">400</span>)</span>
<span id="cb62-2"><a href="r.html#cb62-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="r.html#cb62-3" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> yhendatud, <span class="fu">aes</span>(<span class="at">fill =</span> pole)) <span class="sc">+</span></span>
<span id="cb62-4"><a href="r.html#cb62-4" tabindex="-1"></a>    <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;dodgerblue4&quot;</span>, <span class="at">na.value =</span> <span class="st">&quot;grey80&quot;</span>) <span class="sc">+</span></span>
<span id="cb62-5"><a href="r.html#cb62-5" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb62-6"><a href="r.html#cb62-6" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
<div id="geostatistika-interpoleerimine" class="section level2 hasAnchor" number="12.9">
<h2><span class="header-section-number">12.9</span> Geostatistika: interpoleerimine<a href="r.html#geostatistika-interpoleerimine" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ka R-is võib kasutada erinevaid geostatistika meetodeid. Näiteks kui soovime interpoleerida <em>ei ole</em>/<em>pole</em> atlase andmetest rasterkihi, milles iga piksel väljendab <em>ei ole</em> esinemise tõenäosust, saame kasutada selleks näiteks pakette <a href="https://r-spatial.github.io/stars/"><code>stars</code></a> ja <a href="https://r-spatial.github.io/gstat/"><code>gstat</code></a>.</p>
<p>Esmalt peame aga looma keelendi väärtuse (<em>ei ole</em> või <em>pole</em>) põhjal uue binaarse arvtunnuse, kus üks variant (nt <em>ei ole</em>) oleks kodeeritud 1-ga ja teine (nt <em>pole</em>) 0-ga.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="r.html#cb63-1" tabindex="-1"></a>atlas<span class="sc">$</span>KeelendNum <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(atlas<span class="sc">$</span>KeelendBin <span class="sc">==</span> <span class="st">&quot;ei ole&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb63-2"><a href="r.html#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="r.html#cb63-3" tabindex="-1"></a><span class="fu">table</span>(atlas<span class="sc">$</span>KeelendNum)</span></code></pre></div>
<pre><code>## 
##   0   1 
## 138 141</code></pre>
<p>Järgmiseks peame määrama interpoleerimise tulemusel saadava rastri ulatuse (nt kas ennustame <em>ei ole</em> kasutust ka Eestist väljapoole?) ja piksli küljepikkuse. Määrame Eestit katva ala kihelkondade kihi põhjal ning ala suuruseks 10 x 10 km (= 10 000 m2).</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="r.html#cb65-1" tabindex="-1"></a><span class="co"># install.packages(&quot;stars&quot;)</span></span>
<span id="cb65-2"><a href="r.html#cb65-2" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb65-3"><a href="r.html#cb65-3" tabindex="-1"></a><span class="fu">st_bbox</span>(kihelkonnad) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="r.html#cb65-4" tabindex="-1"></a>  <span class="fu">st_as_stars</span>(<span class="at">dx =</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="r.html#cb65-5" tabindex="-1"></a>  <span class="fu">st_crop</span>(kihelkonnad) <span class="ot">-&gt;</span> est_grid</span></code></pre></div>
<p>Kasutame kõige lihtsamat interpoleerimise meetodit, IDW-d (<em>Inverse Distance Weighting</em>, vt praktikum 10).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="r.html#cb66-1" tabindex="-1"></a><span class="co"># install.packages(&quot;gstat&quot;)</span></span>
<span id="cb66-2"><a href="r.html#cb66-2" tabindex="-1"></a><span class="fu">library</span>(gstat)</span>
<span id="cb66-3"><a href="r.html#cb66-3" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">idw</span>(KeelendNum <span class="sc">~</span> <span class="dv">1</span>, atlas, est_grid)</span></code></pre></div>
<pre><code>## [inverse distance weighted interpolation]</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="r.html#cb68-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb68-2"><a href="r.html#cb68-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> kihelkonnad) <span class="sc">+</span></span>
<span id="cb68-3"><a href="r.html#cb68-3" tabindex="-1"></a>  <span class="fu">geom_stars</span>(<span class="at">data =</span> result, <span class="fu">aes</span>(<span class="at">fill =</span> var1.pred, <span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb68-4"><a href="r.html#cb68-4" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
</div>
<div id="veebikaardid" class="section level2 hasAnchor" number="12.10">
<h2><span class="header-section-number">12.10</span> Veebikaardid<a href="r.html#veebikaardid" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Veebikaartide tegemiseks saame ka R-is kasutada näiteks paketi [<strong><code>leaflet</code></strong>] võimalusi.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="r.html#cb69-1" tabindex="-1"></a><span class="co"># install.packages(&quot;leaflet&quot;)</span></span>
<span id="cb69-2"><a href="r.html#cb69-2" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span></code></pre></div>
<p>Kuvame esmalt lihtsalt mingit aluskaarti.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="r.html#cb70-1" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="r.html#cb70-2" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="r.html#cb70-3" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="fl">25.576</span>, <span class="fl">58.807</span>, <span class="at">zoom =</span> <span class="dv">7</span>)</span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-b064dc08550e0fba3f01" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-b064dc08550e0fba3f01">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]}],"setView":[[58.807,25.576],7,[]]},"evals":[],"jsHooks":[]}</script>
<p>Leafletiga veebikaardile kihtide lisamiseks tuleb kihtidele määrata koordinaatide referentssüsteemiks EPSG:4326.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="r.html#cb71-1" tabindex="-1"></a>atlas_4326 <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(atlas, <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb71-2"><a href="r.html#cb71-2" tabindex="-1"></a></span>
<span id="cb71-3"><a href="r.html#cb71-3" tabindex="-1"></a><span class="fu">leaflet</span>(atlas_4326) <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href="r.html#cb71-4" tabindex="-1"></a>    <span class="fu">addCircles</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># lisame atlase punktid</span></span>
<span id="cb71-5"><a href="r.html#cb71-5" tabindex="-1"></a>    <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb71-6"><a href="r.html#cb71-6" tabindex="-1"></a>    <span class="fu">setView</span>(<span class="fl">25.576</span>, <span class="fl">58.807</span>, <span class="at">zoom =</span> <span class="dv">7</span>)</span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-afa2d782cc4c5ef3c9c2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-afa2d782cc4c5ef3c9c2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addCircles","args":[[58.70712002580392,59.35660901083202,59.41632525560905,59.45415809103591,59.44292484626546,58.83123442380025,58.94923875852437,59.158605578479,59.12501048520413,59.36641975890208,58.70336605886726,59.297630103354,58.8779164741359,59.26299744627153,59.23433533368965,59.51630500854282,59.21499305222301,59.59238428374462,59.61682637520762,59.43636606902223,59.32635780678419,59.03579409982267,59.43917255031585,59.62024270040332,59.28337408789629,59.31919705327006,59.27300156084328,59.37063601180316,59.5064731907951,58.82143584824211,58.72976738436372,59.23009882490254,59.54972796735534,59.43423774658364,58.69007377955425,58.71666038907389,58.62954180826252,58.82104677779968,58.71924057249986,58.78587768752543,59.03318150709249,58.99324220268646,58.7114298714838,58.93386693782428,58.07940897170322,58.45174865693161,58.23017286144731,58.55095979187688,58.59479805793454,58.09690875816877,58.6517239179786,59.07598906254164,59.055157629114,58.68358394933379,59.5357177353816,59.46402714851006,58.87701409863342,59.01065215740375,58.90109193411834,59.02410933603018,58.84624021336075,59.54681330078645,57.87444136802262,58.09635038662014,57.89672596229816,58.13214991634234,58.24012789317324,58.06283127862007,58.53411848369927,58.35442094650906,58.49915158437634,58.60690269504868,58.60170875082733,58.46652058594814,58.597735543182,58.54023490222585,58.57838891291771,58.51478748252962,58.48339592513096,58.41909902808001,59.01177519065446,57.98485713913716,58.0350700290496,58.05363006987529,58.86259189254343,57.9642230876024,58.52886570271779,58.10243489593076,58.50442219698565,58.44815139394937,58.53468925734556,58.42741809334571,58.01676571768098,58.44798165157412,58.475243270235,58.42053258834805,58.02153061993911,58.02919072615641,58.47540826374639,58.51691949971389,58.18529173576522,58.20124133240655,58.11183805632803,58.27894573487427,58.1418483762558,58.47540753136528,58.50454015217317,58.62908242784132,58.54550679159375,58.25154298534526,58.49403363751339,58.33860960179745,58.50866666053616,57.75543441253315,57.58311515439881,57.71031362029764,57.64582986881229,57.80089683647552,57.82807647786095,57.79206875791552,57.77859950921996,57.83426120494799,57.65826078135541,57.72982120423937,57.65595810039643,57.56244891220518,58.06038815020617,57.97730631606133,58.30702607533144,57.88566328958906,59.32999067336986,59.11010809781018,58.95095682698654,58.45780483189807,58.89185808357747,58.84208782913125,57.9205623000755,58.65684893638883,58.78735291490713,58.60125860172703,58.67796809593827,59.23369628335534,59.2156272379675,57.61173549552072,59.08302785780198,58.24944758255745,59.22675599726199,59.42231554166551,59.05915075038914,59.02855507362307,59.098658794857,59.07588405835187,59.05731409761668,59.08106015088727,58.34747741594587,59.46055081124302,59.14526669666456,58.61798359788745,58.31301870543137,58.36001398745255,58.97352463857569,58.82539194155446,59.02571489395048,57.80267871210875,58.97502793729901,59.30374410027807,58.9379084599319,58.97630801093416,59.02800278718615,58.83930795936412,59.2178441416254,59.23124390171975,58.90902791947594,59.13652633533344,58.88319521600235,59.10748688568413,58.92957655400163,59.18131964003538,59.01322430018929,58.61653979742155,59.49205825116967,58.2922424115083,59.26018702504734,59.12382755943442,58.27713256809233,58.41277682246536,58.82484436267628,58.77480543985798,58.66882207826582,58.4667013677991,59.0293950149776,59.01155582474465,58.90685111007951,59.09429244485241,58.83903545880828,58.32876510007245,58.40880788241573,58.03072124441317,58.45665199261378,59.43396499303715,59.36844232084501,58.75142673212559,58.79840862367293,59.12144794801204,59.4182510437075,59.37498586408367,58.93419795382937,58.89220797539083,59.25729125758715,58.97535149318585,59.1263389274123,59.37734323923889,58.56687394319327,58.62913686008244,58.63053062549707,57.83511074383023,59.12575639793327,58.17289394423134,59.16964928003557,59.12991943624291,58.42360511734679,58.27952302741792,58.04750529653292,58.81746892190768,58.59288179828752,58.16432907802958,59.39852650123666,58.56750899662022,59.01457980809003,59.08720709655382,59.32063388654038,58.55590399700988,58.71730112595407,59.28247587623822,58.91069769188001,59.18671989233174,58.001482591496,57.97841744616791,58.54829926574175,59.31492330524313,58.49064328106264,58.52574166008901,58.542893043165,58.68473901548672,58.47484460811913,58.65014693665023,58.62172195344908,59.22647680633673,59.23100410265509,58.59059830831003,59.48801481081289,59.05920866152751,59.02949222664952,59.50095661532332,59.47346957929875,59.00245559580683,58.37218944558349,59.40821064774606,59.40446647069966,58.2683024500846,58.20299280536435,57.7059404501241,59.34061328500494,57.6068416827947,58.58310474627978,58.34531411348161,58.36892493743665,58.17781736223679,57.82671856015207,58.36549663136907,59.44470009312134,57.6634724414124,59.27551290986155,58.27910665697473,59.27397582403658,59.23300462182938,58.91046485032992,58.45445421306642,59.28109466186957],[24.39785951798697,24.09927625204056,24.62477728090921,24.44307716351723,24.47745621674244,22.70950731780898,22.86405547626291,24.2695338973549,24.38000128540273,24.87321947872251,22.58841814544951,27.24572790964401,25.65305976154253,24.21056813172272,23.94726143505815,25.51353124178243,24.05270194989725,25.56924741081426,25.75588977264458,25.11746502697626,25.08374480249629,27.08061579097969,25.60391312633373,25.02541584016709,24.69681310165504,24.16250695867464,24.03292026918677,24.29609533689028,24.90608673396757,26.42319860538581,25.97058465873594,26.33350920874929,26.16298013929189,26.25670685660575,26.09329880754256,26.2069370739538,26.58347100883926,26.73259639141563,26.81804228309982,26.49520965588485,25.59046753742101,25.56384019776602,27.10681485817186,26.07132189343686,24.49334892193512,23.7686799938556,24.73158026903307,24.12343877382556,24.19894092023553,24.79637220626364,24.5510335660255,26.56628112856278,26.31943282740189,23.71210808036454,25.87364798828097,26.66129816726168,24.50148512751876,24.72155589416256,24.23735496168631,24.7677310957123,24.27740762661844,24.54121080232162,27.71109437283521,27.31206443910832,27.44992389117281,24.00073048354424,27.22275731040185,27.55167237343782,22.37695019535413,22.74561035033289,22.64862496325928,23.2138029987094,23.26395468293154,22.33591431862941,22.91579459582887,22.21169453773802,22.85398901991961,23.04367017797865,23.14003554351332,22.9063412168276,25.05370503483772,22.13736639480716,22.13854989319753,22.21950662878606,24.43949653362944,22.04935867228905,25.60397098532073,26.19865591857378,25.4506358548304,26.03928463725262,25.94237393824053,26.02419453920412,25.99450398868687,26.92319149405692,26.78360956931695,26.66429643556222,25.70948033753167,26.35590306021378,26.66762968178862,27.0746893365024,26.68849013589015,26.53796227623079,26.04023197315207,27.19200711610657,26.51441711046179,26.58564182482502,27.15945156989884,22.55150053996441,27.08748801161723,26.48882086430474,26.95220499558354,26.31443479059917,22.60384644174877,26.87013474878141,27.25859288155768,26.83614974142341,26.6325920975721,26.50857326548127,26.53010152115202,27.47071090472647,27.55021978606014,26.66602436211459,26.74507367970401,26.91984277697693,26.93810821895902,27.24101731215768,25.66116089545835,26.24794133992843,25.88230149324797,26.99147473240737,24.35207133945732,25.20741479171657,22.48248135523762,24.35672760273816,23.54455622155248,23.81981292882484,26.58394111223492,23.59298029295135,23.56868344281847,23.59144400928918,23.54615264305927,23.66152474106793,23.67473396328847,26.6132493754059,23.58312001464105,22.26889663300341,24.70937318969407,26.62202347472533,25.18294387356775,25.17388117897634,24.38447341582829,25.37026025573612,24.05838488765528,24.13169796732271,22.50807038705385,25.04557009528455,24.99297601905798,25.10408729281984,25.44635990507101,25.41300662841144,22.90224289252621,22.49616053782885,23.78083180328469,27.01971761102799,23.74160369428968,25.77673617048511,23.94735591229773,24.4561814512477,24.50396665762899,24.61053421554715,25.37774993565594,25.264645262804,24.17942324620917,24.88799846247566,26.32084672569886,24.77790438431485,26.99377466491898,25.47698317711711,24.56952374059402,25.73573407835423,25.30292112273741,21.90605859360524,25.09829642358705,24.64179044458846,27.40479573701068,22.30111513512686,23.71718725715479,26.42610032758632,26.3653242619763,24.76050363769001,25.82012895611231,25.74464781250727,25.50322467943382,25.90210551880129,26.58054541947146,24.11081088901906,24.61968678047633,24.64256557921776,24.23047611670646,27.37889880896728,27.78498378124997,25.25560851871061,24.99160851561535,26.96832212339636,26.73847752552114,26.45143973038089,26.91526982939109,25.29639800873266,27.06646706291523,26.10149881739973,25.54469639543922,27.66412337084851,24.57379067637032,25.64642624919556,25.55402230349166,27.36222273602581,25.70600428809156,24.51252233145082,26.08316419572101,25.86635968676397,24.03986230741861,24.24244911913261,24.97955936354,26.22620234359741,23.73993013099642,25.22213528453494,26.98660719540861,23.65430112698508,25.99452162161462,27.46519367528695,26.34675196614068,26.4530351514628,26.95694395998038,24.62452914773358,26.5998424171955,26.26316983193394,25.5819475341665,24.68144738401734,24.75211197308331,25.92096549320207,26.38264662785515,25.04380099618845,25.23230537248455,26.6575333260157,24.47460279527186,26.67791761324467,26.7063669048176,24.61368722652866,27.37609178553803,24.26502699250788,26.356750472666,26.41974823517717,26.35367041227575,26.11492694879495,26.14022951527751,26.06641846660132,25.22480634438555,28.13772718507249,27.98838704117786,24.61252682193498,25.2925525824669,26.39779066764888,25.96059220664382,26.52965922086651,26.8222865055206,25.78996870462077,25.95432051224163,25.72439386164028,27.66901401405027,24.29013154446402,26.85706712532937,27.60953580866114,25.76293116478617,26.27890310403063,23.81590731296536,25.39385168655826,23.46069223399822,24.73999403762247,26.48357163184979],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]},{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]}],"limits":{"lat":[57.56244891220518,59.62024270040332],"lng":[21.90605859360524,28.13772718507249]},"setView":[[58.807,25.576],7,[]]},"evals":[],"jsHooks":[]}</script>
<p>Värvime nüüd punktid vastavalt <em>ei ole</em> või <em>pole</em> variandile ning lisame popupid.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="r.html#cb72-1" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorFactor</span>(<span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;orange3&quot;</span>), <span class="at">domain =</span> atlas_4326<span class="sc">$</span>KeelendBin)</span>
<span id="cb72-2"><a href="r.html#cb72-2" tabindex="-1"></a></span>
<span id="cb72-3"><a href="r.html#cb72-3" tabindex="-1"></a><span class="fu">leaflet</span>(atlas_4326) <span class="sc">%&gt;%</span></span>
<span id="cb72-4"><a href="r.html#cb72-4" tabindex="-1"></a>    <span class="fu">addCircles</span>(<span class="at">color =</span> <span class="sc">~</span><span class="fu">pal</span>(KeelendBin),</span>
<span id="cb72-5"><a href="r.html#cb72-5" tabindex="-1"></a>               <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste</span>(</span>
<span id="cb72-6"><a href="r.html#cb72-6" tabindex="-1"></a>                   <span class="st">&quot;&lt;b&gt;Küla:&lt;/b&gt;&quot;</span>, SaKyla, <span class="st">&quot;&lt;br/&gt;&quot;</span>,</span>
<span id="cb72-7"><a href="r.html#cb72-7" tabindex="-1"></a>                   <span class="st">&quot;&lt;b&gt;Keelend:&lt;/b&gt;&quot;</span>, Keelend, <span class="st">&quot;&lt;br/&gt;&quot;</span></span>
<span id="cb72-8"><a href="r.html#cb72-8" tabindex="-1"></a>               )) <span class="sc">%&gt;%</span></span>
<span id="cb72-9"><a href="r.html#cb72-9" tabindex="-1"></a>    <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-10"><a href="r.html#cb72-10" tabindex="-1"></a>    <span class="fu">setView</span>(<span class="fl">25.576</span>, <span class="fl">58.807</span>, <span class="at">zoom =</span> <span class="dv">7</span>)</span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-42099897221f5b5dcd53" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-42099897221f5b5dcd53">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addCircles","args":[[58.70712002580392,59.35660901083202,59.41632525560905,59.45415809103591,59.44292484626546,58.83123442380025,58.94923875852437,59.158605578479,59.12501048520413,59.36641975890208,58.70336605886726,59.297630103354,58.8779164741359,59.26299744627153,59.23433533368965,59.51630500854282,59.21499305222301,59.59238428374462,59.61682637520762,59.43636606902223,59.32635780678419,59.03579409982267,59.43917255031585,59.62024270040332,59.28337408789629,59.31919705327006,59.27300156084328,59.37063601180316,59.5064731907951,58.82143584824211,58.72976738436372,59.23009882490254,59.54972796735534,59.43423774658364,58.69007377955425,58.71666038907389,58.62954180826252,58.82104677779968,58.71924057249986,58.78587768752543,59.03318150709249,58.99324220268646,58.7114298714838,58.93386693782428,58.07940897170322,58.45174865693161,58.23017286144731,58.55095979187688,58.59479805793454,58.09690875816877,58.6517239179786,59.07598906254164,59.055157629114,58.68358394933379,59.5357177353816,59.46402714851006,58.87701409863342,59.01065215740375,58.90109193411834,59.02410933603018,58.84624021336075,59.54681330078645,57.87444136802262,58.09635038662014,57.89672596229816,58.13214991634234,58.24012789317324,58.06283127862007,58.53411848369927,58.35442094650906,58.49915158437634,58.60690269504868,58.60170875082733,58.46652058594814,58.597735543182,58.54023490222585,58.57838891291771,58.51478748252962,58.48339592513096,58.41909902808001,59.01177519065446,57.98485713913716,58.0350700290496,58.05363006987529,58.86259189254343,57.9642230876024,58.52886570271779,58.10243489593076,58.50442219698565,58.44815139394937,58.53468925734556,58.42741809334571,58.01676571768098,58.44798165157412,58.475243270235,58.42053258834805,58.02153061993911,58.02919072615641,58.47540826374639,58.51691949971389,58.18529173576522,58.20124133240655,58.11183805632803,58.27894573487427,58.1418483762558,58.47540753136528,58.50454015217317,58.62908242784132,58.54550679159375,58.25154298534526,58.49403363751339,58.33860960179745,58.50866666053616,57.75543441253315,57.58311515439881,57.71031362029764,57.64582986881229,57.80089683647552,57.82807647786095,57.79206875791552,57.77859950921996,57.83426120494799,57.65826078135541,57.72982120423937,57.65595810039643,57.56244891220518,58.06038815020617,57.97730631606133,58.30702607533144,57.88566328958906,59.32999067336986,59.11010809781018,58.95095682698654,58.45780483189807,58.89185808357747,58.84208782913125,57.9205623000755,58.65684893638883,58.78735291490713,58.60125860172703,58.67796809593827,59.23369628335534,59.2156272379675,57.61173549552072,59.08302785780198,58.24944758255745,59.22675599726199,59.42231554166551,59.05915075038914,59.02855507362307,59.098658794857,59.07588405835187,59.05731409761668,59.08106015088727,58.34747741594587,59.46055081124302,59.14526669666456,58.61798359788745,58.31301870543137,58.36001398745255,58.97352463857569,58.82539194155446,59.02571489395048,57.80267871210875,58.97502793729901,59.30374410027807,58.9379084599319,58.97630801093416,59.02800278718615,58.83930795936412,59.2178441416254,59.23124390171975,58.90902791947594,59.13652633533344,58.88319521600235,59.10748688568413,58.92957655400163,59.18131964003538,59.01322430018929,58.61653979742155,59.49205825116967,58.2922424115083,59.26018702504734,59.12382755943442,58.27713256809233,58.41277682246536,58.82484436267628,58.77480543985798,58.66882207826582,58.4667013677991,59.0293950149776,59.01155582474465,58.90685111007951,59.09429244485241,58.83903545880828,58.32876510007245,58.40880788241573,58.03072124441317,58.45665199261378,59.43396499303715,59.36844232084501,58.75142673212559,58.79840862367293,59.12144794801204,59.4182510437075,59.37498586408367,58.93419795382937,58.89220797539083,59.25729125758715,58.97535149318585,59.1263389274123,59.37734323923889,58.56687394319327,58.62913686008244,58.63053062549707,57.83511074383023,59.12575639793327,58.17289394423134,59.16964928003557,59.12991943624291,58.42360511734679,58.27952302741792,58.04750529653292,58.81746892190768,58.59288179828752,58.16432907802958,59.39852650123666,58.56750899662022,59.01457980809003,59.08720709655382,59.32063388654038,58.55590399700988,58.71730112595407,59.28247587623822,58.91069769188001,59.18671989233174,58.001482591496,57.97841744616791,58.54829926574175,59.31492330524313,58.49064328106264,58.52574166008901,58.542893043165,58.68473901548672,58.47484460811913,58.65014693665023,58.62172195344908,59.22647680633673,59.23100410265509,58.59059830831003,59.48801481081289,59.05920866152751,59.02949222664952,59.50095661532332,59.47346957929875,59.00245559580683,58.37218944558349,59.40821064774606,59.40446647069966,58.2683024500846,58.20299280536435,57.7059404501241,59.34061328500494,57.6068416827947,58.58310474627978,58.34531411348161,58.36892493743665,58.17781736223679,57.82671856015207,58.36549663136907,59.44470009312134,57.6634724414124,59.27551290986155,58.27910665697473,59.27397582403658,59.23300462182938,58.91046485032992,58.45445421306642,59.28109466186957],[24.39785951798697,24.09927625204056,24.62477728090921,24.44307716351723,24.47745621674244,22.70950731780898,22.86405547626291,24.2695338973549,24.38000128540273,24.87321947872251,22.58841814544951,27.24572790964401,25.65305976154253,24.21056813172272,23.94726143505815,25.51353124178243,24.05270194989725,25.56924741081426,25.75588977264458,25.11746502697626,25.08374480249629,27.08061579097969,25.60391312633373,25.02541584016709,24.69681310165504,24.16250695867464,24.03292026918677,24.29609533689028,24.90608673396757,26.42319860538581,25.97058465873594,26.33350920874929,26.16298013929189,26.25670685660575,26.09329880754256,26.2069370739538,26.58347100883926,26.73259639141563,26.81804228309982,26.49520965588485,25.59046753742101,25.56384019776602,27.10681485817186,26.07132189343686,24.49334892193512,23.7686799938556,24.73158026903307,24.12343877382556,24.19894092023553,24.79637220626364,24.5510335660255,26.56628112856278,26.31943282740189,23.71210808036454,25.87364798828097,26.66129816726168,24.50148512751876,24.72155589416256,24.23735496168631,24.7677310957123,24.27740762661844,24.54121080232162,27.71109437283521,27.31206443910832,27.44992389117281,24.00073048354424,27.22275731040185,27.55167237343782,22.37695019535413,22.74561035033289,22.64862496325928,23.2138029987094,23.26395468293154,22.33591431862941,22.91579459582887,22.21169453773802,22.85398901991961,23.04367017797865,23.14003554351332,22.9063412168276,25.05370503483772,22.13736639480716,22.13854989319753,22.21950662878606,24.43949653362944,22.04935867228905,25.60397098532073,26.19865591857378,25.4506358548304,26.03928463725262,25.94237393824053,26.02419453920412,25.99450398868687,26.92319149405692,26.78360956931695,26.66429643556222,25.70948033753167,26.35590306021378,26.66762968178862,27.0746893365024,26.68849013589015,26.53796227623079,26.04023197315207,27.19200711610657,26.51441711046179,26.58564182482502,27.15945156989884,22.55150053996441,27.08748801161723,26.48882086430474,26.95220499558354,26.31443479059917,22.60384644174877,26.87013474878141,27.25859288155768,26.83614974142341,26.6325920975721,26.50857326548127,26.53010152115202,27.47071090472647,27.55021978606014,26.66602436211459,26.74507367970401,26.91984277697693,26.93810821895902,27.24101731215768,25.66116089545835,26.24794133992843,25.88230149324797,26.99147473240737,24.35207133945732,25.20741479171657,22.48248135523762,24.35672760273816,23.54455622155248,23.81981292882484,26.58394111223492,23.59298029295135,23.56868344281847,23.59144400928918,23.54615264305927,23.66152474106793,23.67473396328847,26.6132493754059,23.58312001464105,22.26889663300341,24.70937318969407,26.62202347472533,25.18294387356775,25.17388117897634,24.38447341582829,25.37026025573612,24.05838488765528,24.13169796732271,22.50807038705385,25.04557009528455,24.99297601905798,25.10408729281984,25.44635990507101,25.41300662841144,22.90224289252621,22.49616053782885,23.78083180328469,27.01971761102799,23.74160369428968,25.77673617048511,23.94735591229773,24.4561814512477,24.50396665762899,24.61053421554715,25.37774993565594,25.264645262804,24.17942324620917,24.88799846247566,26.32084672569886,24.77790438431485,26.99377466491898,25.47698317711711,24.56952374059402,25.73573407835423,25.30292112273741,21.90605859360524,25.09829642358705,24.64179044458846,27.40479573701068,22.30111513512686,23.71718725715479,26.42610032758632,26.3653242619763,24.76050363769001,25.82012895611231,25.74464781250727,25.50322467943382,25.90210551880129,26.58054541947146,24.11081088901906,24.61968678047633,24.64256557921776,24.23047611670646,27.37889880896728,27.78498378124997,25.25560851871061,24.99160851561535,26.96832212339636,26.73847752552114,26.45143973038089,26.91526982939109,25.29639800873266,27.06646706291523,26.10149881739973,25.54469639543922,27.66412337084851,24.57379067637032,25.64642624919556,25.55402230349166,27.36222273602581,25.70600428809156,24.51252233145082,26.08316419572101,25.86635968676397,24.03986230741861,24.24244911913261,24.97955936354,26.22620234359741,23.73993013099642,25.22213528453494,26.98660719540861,23.65430112698508,25.99452162161462,27.46519367528695,26.34675196614068,26.4530351514628,26.95694395998038,24.62452914773358,26.5998424171955,26.26316983193394,25.5819475341665,24.68144738401734,24.75211197308331,25.92096549320207,26.38264662785515,25.04380099618845,25.23230537248455,26.6575333260157,24.47460279527186,26.67791761324467,26.7063669048176,24.61368722652866,27.37609178553803,24.26502699250788,26.356750472666,26.41974823517717,26.35367041227575,26.11492694879495,26.14022951527751,26.06641846660132,25.22480634438555,28.13772718507249,27.98838704117786,24.61252682193498,25.2925525824669,26.39779066764888,25.96059220664382,26.52965922086651,26.8222865055206,25.78996870462077,25.95432051224163,25.72439386164028,27.66901401405027,24.29013154446402,26.85706712532937,27.60953580866114,25.76293116478617,26.27890310403063,23.81590731296536,25.39385168655826,23.46069223399822,24.73999403762247,26.48357163184979],10,null,null,{"interactive":true,"className":"","stroke":true,"color":["#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#CD8500","#CD8500","#00008B","#CD8500","#00008B","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#CD8500","#00008B","#CD8500","#CD8500","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#00008B","#00008B","#CD8500","#00008B","#00008B","#00008B","#00008B","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#00008B","#CD8500","#00008B","#CD8500","#CD8500","#CD8500","#CD8500","#00008B"],"fillOpacity":0.2},["<b>Küla:<\/b> Leilavere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Leetse <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kakumäe <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Muraste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Ilmandu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Selja <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Partsi <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Aude <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Odulema <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Lehmja <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Viiterna <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Apandiku <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Valgma <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Ämari <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vilivalla <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Sitri <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kõmmaste <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Virve <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Turbuneeme <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Parasmäe <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Igavere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Tudulinna <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Sigula <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Prangli <br/> <b>Keelend:<\/b> ei (äi) ole; oleki <br/>","<b>Küla:<\/b> Kaiamaa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Põlluküla <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Kurksi <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Käesalu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Randvere <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Raduvere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Raasna <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kadila <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Vihula <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Aavidu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Sulustvere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Aidu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Nava <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Lullikatku <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Toljase <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Sootaga <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Nurmse <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Otiku <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Sassukvere <br/> <b>Keelend:<\/b> põle;-p ole (õle) <br/>","<b>Küla:<\/b> Ervita <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Alevi <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Helmküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Surju <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Irta <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Ura <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Marina ümbr. <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Änge <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Laekvere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kurna <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Petaaluse <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Võhma <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Kanguristi <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Järküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kõrgu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Loona <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Alu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Urevere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Naissaare <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Kolossova <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Leevaku <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Orava <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Lempsi <br/> <b>Keelend:<\/b> põlõ <br/>","<b>Küla:<\/b> Kastmekoa <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Võõpsu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Võhma <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Kõljala <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Nõmme <br/> <b>Keelend:<\/b> ei (äi, öi) pole <br/>","<b>Küla:<\/b> Viira <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Soonda <br/> <b>Keelend:<\/b> -p põle <br/>","<b>Küla:<\/b> Küdema <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Haapsa <br/> <b>Keelend:<\/b> ei (äi, öi) pole <br/>","<b>Küla:<\/b> Tagaranna <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Võhma <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Levala <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Välta <br/> <b>Keelend:<\/b> -p pole <br/>","<b>Küla:<\/b> Tõnija <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Kaiu <br/> <b>Keelend:<\/b> põle; ei(äi) ole <br/>","<b>Küla:<\/b> Mäebe <br/> <b>Keelend:<\/b> ep ole <br/>","<b>Küla:<\/b> Lõopõllu <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Hindu <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Aruküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Lülle <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Kujavere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Aakre <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Epra <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Lätkalu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> kiriku ümbr. <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Leie <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Jõgeveste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Astuvere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kobratu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Vooreküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Ala <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Arula <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Võibla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Koosa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Raanitsa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Oomiste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Karu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kõnnu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Nõuni <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Nõela <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kõnnu <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Pammana <br/> <b>Keelend:<\/b> ei (äi, öi) pole <br/>","<b>Küla:<\/b> Metsakivi <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Peeter-Lokutaja <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kuusma <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Puhja <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Pamma <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Lauri <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Siksälä <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Hurda <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Alaküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Oe <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Antsla <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Küllätüvä <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Korski <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Keema <br/> <b>Keelend:<\/b> ei olõ' õijõ' <br/>","<b>Küla:<\/b> Mõtstaga <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> kiriku ümbr. <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Savioru ümbr. <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Kure <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Aine <br/> <b>Keelend:<\/b> ei oole <br/>","<b>Küla:<\/b> Vaalu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Väluste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Loosu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Valkse <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Harmi <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Jõeranna <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Ridalepa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Mägari <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Putkaste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Urvaste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kokuta <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kiideva <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kurevere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Mõisaküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Rannaküla <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Nõva <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Mõniste <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Aulepa <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Kõrkküla <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Kurtna <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Varudi <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Vaopere <br/> <b>Keelend:<\/b> -p ole (õle) <br/>","<b>Küla:<\/b> Kuimetsa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Mustu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Nõmmeküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kabeli <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Turvaste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kergu <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Võerdla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Nõrava <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Suurejõe <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Parastuma <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Puiatu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Suuresadama <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Mänspea <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Jalukse <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Meegumäe <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Koela <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Pruunakõrve <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kaasiku <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vaimõisa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Põlli <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vanamõisa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Paluküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Lendermaa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Laukna <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Lõiuse <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Seli <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Mällivere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Tammispää <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Voose <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Ohukotsu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kangrusaare <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Haapse <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Atla <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Urvaste <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Adila <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Jõepere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Sauvere <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Oonga <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kossima <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Jõune <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Oore <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kagavere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kaaruka <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Rõa <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Paistevälja <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kodisma <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Metsaküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kiisa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Urissaare <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Põhara <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Valaste <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Reidepõllu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Karjaküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Koogiste <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Oonurme <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Toomika <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Lõuta <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Jõemetsa <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Piiumetsa <br/> <b>Keelend:<\/b> põle; ei(äi) ole <br/>","<b>Küla:<\/b> Rääsa <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Vahuküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Vetepere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vaivina <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Eapere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Koksavere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Võhma <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Tamme <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Pullevere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Pihnurme <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Alupere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Rava <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Tõhela-Häidaste <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Liu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Jäära <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Tirma <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Linnuse <br/> <b>Keelend:<\/b> ei põle <br/>","<b>Küla:<\/b> Peraküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kääniku <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Őeküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Metsla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Imatu <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Tõrma <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kõnnu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Assikvere <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Uksnurme <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Tuimõisa <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Aburi <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Peraküla <br/> <b>Keelend:<\/b> ei oole <br/>","<b>Küla:<\/b> Kolbergi <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Uru ümbr. <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Kukepalu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Laeva <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Aegsoo-Riisa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Toonoja <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Süvalepa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Nurme <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vaidavere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kõrenduse <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Maidla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Atsalama <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Tamme <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Pehka <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Avanduse <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Hirla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Adaka <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kavastu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Puhmu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Uia <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Vepsaküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Puhkova <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Väljaküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Mõtsaküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Mäkiste <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Ohepalu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Saru <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Kaitsemõisa <br/> <b>Keelend:<\/b> ei õle <br/>","<b>Küla:<\/b> Vasara <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Valma <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Pahuvere <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Nudretsova <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Saulepi <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Rannaküla <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Lõkova <br/> <b>Keelend:<\/b> ole ei (õi) <br/>","<b>Küla:<\/b> Ojaküla <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Ängu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>","<b>Küla:<\/b> Praski <br/> <b>Keelend:<\/b> pole <br/>","<b>Küla:<\/b> Soo-otsa <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Eigls <br/> <b>Keelend:<\/b> pöle <br/>","<b>Küla:<\/b> Sohlu <br/> <b>Keelend:<\/b> põle <br/>","<b>Küla:<\/b> Saueaugu <br/> <b>Keelend:<\/b> ei (äi) ole <br/>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]},{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]}],"limits":{"lat":[57.56244891220518,59.62024270040332],"lng":[21.90605859360524,28.13772718507249]},"setView":[[58.807,25.576],7,[]]},"evals":[],"jsHooks":[]}</script>
<p>Leafleti interaktiivseid kaarte saab lisada ka R Markdowni dokumentidesse, Shiny rakendustesse, slaididele jne.</p>
</div>
<div id="geokodeerimine-1" class="section level2 hasAnchor" number="12.11">
<h2><span class="header-section-number">12.11</span> Geokodeerimine<a href="r.html#geokodeerimine-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R-is saab ka andmeid geokodeerida (= määrata kohanimedele või aadressidele koordinaadid). Selleks on erinevaid pakette, näiteks</p>
<ul>
<li><code>tidygeocoder</code>,<br />
</li>
<li><code>nominatimlite</code>,<br />
</li>
<li><code>osmdata</code>.</li>
</ul>
<p>Katsetame siin paketti <a href="https://jessecambon.github.io/tidygeocoder/"><strong><code>tidygeocoder</code></strong></a>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="r.html#cb73-1" tabindex="-1"></a><span class="co"># install.packages(&quot;tidygeocoder&quot;)</span></span>
<span id="cb73-2"><a href="r.html#cb73-2" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span></code></pre></div>
<p>Paketi põhifunktsioon on <code>geocode()</code>, mis nõuab sisendiks <code>data.frame</code> tabelformaadis andmeid. Teeme näiteks tabeli, kus oleks neli rida, igal real üks (eri üldistusastmega) aadress:</p>
<ul>
<li>Jakobi 2, Tartu<br />
</li>
<li>Ülikooli 18, Tartu<br />
</li>
<li>Tartu<br />
</li>
<li>Eesti</li>
</ul>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="r.html#cb74-1" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">Koht =</span> <span class="fu">c</span>(<span class="st">&quot;Jakobi 2, Tartu&quot;</span>, <span class="st">&quot;Ülikooli 18, Tartu&quot;</span>, <span class="st">&quot;Tartu&quot;</span>, <span class="st">&quot;Eesti&quot;</span>)) <span class="ot">-&gt;</span> aadresside_df</span>
<span id="cb74-2"><a href="r.html#cb74-2" tabindex="-1"></a></span>
<span id="cb74-3"><a href="r.html#cb74-3" tabindex="-1"></a>aadresside_df <span class="sc">%&gt;%</span></span>
<span id="cb74-4"><a href="r.html#cb74-4" tabindex="-1"></a>  <span class="fu">geocode</span>(<span class="at">address =</span> Koht, <span class="at">method =</span> <span class="st">&quot;osm&quot;</span>, <span class="at">lat =</span> latitude, <span class="at">long =</span> longitude) <span class="ot">-&gt;</span> geokodeeritud_df</span>
<span id="cb74-5"><a href="r.html#cb74-5" tabindex="-1"></a></span>
<span id="cb74-6"><a href="r.html#cb74-6" tabindex="-1"></a><span class="fu">head</span>(geokodeeritud_df)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Koht               latitude longitude
##   &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;
## 1 Jakobi 2, Tartu        58.4      26.7
## 2 Ülikooli 18, Tartu     58.4      26.7
## 3 Tartu                  58.4      26.7
## 4 Eesti                  58.8      25.3</code></pre>
<p>Kuna geokodeerimise tulemus on tavaline andmetabel, milles koordinaadid on antud atribuutide väärtustena, tuleb meil nüüd <code>geom_sf()</code> funktsiooni asemel kasutada funktsiooni <code>geom_point()</code> ning anda eksplitsiitselt ette kaardile pandavate punktide x- ja y-koordinaadid. Võime lisada kaardile ka kohanimede sildid, mis oleks punktidest pisut ülevalpool (<code>vjust = 1</code>).</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="r.html#cb76-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb76-2"><a href="r.html#cb76-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> eesti) <span class="sc">+</span></span>
<span id="cb76-3"><a href="r.html#cb76-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> geokodeeritud_df, <span class="fu">aes</span>(<span class="at">x =</span> longitude, <span class="at">y =</span> latitude), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb76-4"><a href="r.html#cb76-4" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> geokodeeritud_df, <span class="fu">aes</span>(<span class="at">x =</span> longitude, <span class="at">y =</span> latitude, <span class="at">label =</span> Koht), <span class="at">color =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">check_overlap =</span> F)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
</div>
<div id="ülesanne-5" class="section level2 hasAnchor" number="12.12">
<h2><span class="header-section-number">12.12</span> Ülesanne<a href="r.html#%C3%BClesanne-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Loe sisse kultuurimälestiste polügoonid failist <code>asustusyksus_malestised.gpkg</code>.</li>
</ol>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="r.html#cb77-1" tabindex="-1"></a>malestised <span class="ot">&lt;-</span> ...</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Filtreeri andmestikust välja ainult Tartumaa asustusüksuste andmed.</li>
</ol>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="r.html#cb78-1" tabindex="-1"></a>tartumaa_malestised <span class="ot">&lt;-</span> ...</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Värvi Tartu maakonna asustusüksused vastavalt sellele, kui palju on seal kultuurimälestisi kokku. Vali sobiv värvipalett. Selleks, et rõhutada erinevusi väikeste väärtuste vahel ja peita erinevusi suurte väärtuste vahel, võib kasutada <code>scale</code>-funktsiooni sees näiteks argumenti <code>trans = "log1p"</code>.</li>
</ol>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="r.html#cb79-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb79-2"><a href="r.html#cb79-2" tabindex="-1"></a>    <span class="fu">geom_sf</span>(...) <span class="sc">+</span></span>
<span id="cb79-3"><a href="r.html#cb79-3" tabindex="-1"></a>    <span class="fu">scale_fill_...</span>(<span class="at">trans =</span> <span class="st">&quot;log1p&quot;</span>)</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Salvesta see Rmd-fail või eraldi R-i skriptifail joonise tegemiseks vajaliku koodiga ja tehtud kaart nimega <code>yl1.png</code>.</li>
</ol>
</div>
<div id="r-i-raamatud-ja-juhendid" class="section level2 hasAnchor" number="12.13">
<h2><span class="header-section-number">12.13</span> R-i raamatud ja juhendid<a href="r.html#r-i-raamatud-ja-juhendid" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R-is saab analüüsida mõistagi ka rasterandmeid, teha veebirakendusi jpm.</p>
<p>R-i ja ruumiandmete kohta on hea ja ülevaatlik kursus ka aadressil <a href="http://aasa.ut.ee/Rspatial/">http://aasa.ut.ee/Rspatial/</a>.</p>
<p><a href="https://r4ds.had.co.nz/">R for Data Science</a><br />
<a href="https://r.geocompx.org/">Geocomputation with R</a><br />
<a href="https://r-spatial.org/book/">Spatial Data Science</a><br />
<a href="https://rspatial.org/index.html">Spatial Data Science with R and “terra”</a>
<a href="https://rc2e.com/">R Cookbook</a><br />
<a href="https://r-graphics.org/">R Graphics Cookbook</a><br />
<a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="veebirakendused.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="kirjandus.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section",
    "scroll_highlight": true
  }
});
});
</script>

</body>

</html>
